{% extends "layouts/partner-base.html" %} {% block title %} General Setting {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %} {% block content %}



{% load static %}

<link rel="stylesheet" href="{% static 'assets/css/cropper.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/cropper.min.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/main.css' %}">
<style>
  .center {
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
</style>
<div class="content">
  <div class="page-inner">
    <div class="page-header">
      <h4 class="page-title">General Setting</h4>
      <ul class="breadcrumbs">
        <li class="nav-home">
          <a href="/partner-index/">
            <i class="flaticon-home"></i>
          </a>
        </li>
        <li class="separator">
          <i class="flaticon-right-arrow"></i>
        </li>
        <li class="nav-item">
          <a>Settings</a>
        </li>
        <li class="separator">
          <i class="flaticon-right-arrow"></i>
        </li>
        <li class="nav-item">
          <a href="/partner-general-setting/">General Setting</a>
        </li>
      </ul>
    </div>
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title">General Setting</h4>
            <!-- <div class="row">
              <ul class="nav nav-tabs nav-line nav-color-secondary" role="tablist">
                <li class="nav-item">
                  <a class="nav-link active show" data-toggle="tab" href="#profile" role="tab"
                    aria-selected="false">General</a>
                </li>
              </ul>
            </div> -->
          </div>
          <div class="card-body">
            <form class="form-control" action="/partner-general-setting/" method="POST" id="form" name="form"
              autocomplete="off" enctype="multipart/form-data">
              {% csrf_token %}
              <input type="hidden" name="partner_setting_id" id="partner_setting_id"
                value="{{ partner_general_setting.id }}">
              <div class="row">
                <div class="col-md-8">
                  <div class="row">
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Company Name<span style="color: red">*</span></label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control mobile" name="business_name" id="business_name"
                            placeholder="Company Name" value="{{ partner_general_setting.p_business_name }}" required />
                        </div>
                      </div>
                    </div>
                    <!-- <div class="col-md-6">
                      <div class="form-group">
                        <label>Business Category</label>
                        <div class="input-group mb-3">
                          <select class="form-control" name="merchant_business_category" id="merchant_business_category"
                            required>
                            <option value="">Select Business Category</option>
                            {% for business_category in partner_business_category %}
                            <option value="{{ business_category.id }}" {% if
                              business_category.id==partner_general_setting.p_business_category_id %} selected {% endif
                              %}>{{ business_category.business_category_name }}</option>
                            {% endfor %}
                          </select>
                        </div>
                      </div>
                    </div> -->
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Pin Code<span style="color: red">*</span></label>
                        <div class="input-group mb-3">
                          <input type="tel" class="form-control" name="pin_code" id="pin_code" placeholder="Pin Code"
                            value="{{ partner_general_setting.p_pin_code }}" required maxlength="6" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>City<span style="color: red">*</span></label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control" name="city" id="city" placeholder="City"
                            value="{{ partner_general_setting.p_city }}" required />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>District<span style="color: red">*</span></label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control" name="district" id="district" placeholder="District"
                            value="{{ partner_general_setting.p_district }}" required />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>State<span style="color: red">*</span></label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control" name="state" id="state" placeholder="State"
                            value="{{ partner_general_setting.p_state }}" required />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Address <span style="color: red">*</span></label>
                        <div class="input-group mb-3">
                          <textarea class="form-control" name="address" id="address"
                            placeholder="Address">{{ partner_general_setting.p_address }}</textarea>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Landline Number</label>
                        <div class="input-group mb-3">
                          <input type="tel" class="form-control" name="landline_number " id="landline_number"
                            placeholder="Landline Number" value="{{ partner_general_setting.p_landline_number }}" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Alternate Mobile Number</label>
                        <div class="input-group mb-3">
                          <input type="tel" class="form-control" name="alternate_mobile_number"
                            id="alternate_mobile_number" placeholder="Alternate Mobile Number"
                            value="{{ partner_general_setting.p_alternate_mobile_number }}" maxlength="10" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Company Email <span style="color: red">*</span></label>
                        <div class="input-group mb-3">
                          <input type="email" class="form-control" id="company_email" name="company_email"
                            value="{{ partner_general_setting.p_company_email }}" placeholder="Company Email" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Alternate Email</label>
                        <div class="input-group mb-3">
                          <input type="email" class="form-control" id="alternate_email" name="alternate_email"
                            value="{{ partner_general_setting.p_alternate_email }}" placeholder="Alternate Email" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>PAN Number <span style="color: red">*</span></label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control" id="pan_number" name="pan_number"
                            value="{{ partner_general_setting.p_pan_number }}" placeholder="PAN Number" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>GSTIN</label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control" name="gstin" id="gstin" placeholder="GSTIN"
                            value="{{ partner_general_setting.p_gstin }}" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>GSTIN Certificate</label>
                        <div class="input-group mb-3">
                          <input type="file" class="form-control" name="GSTIN_certificate" id="GSTIN_certificate"
                            placeholder="GSTIN" value="{{ partner_general_setting.p_GSTIN_certificate }}" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>CIN</label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control" name="cin" id="cin" placeholder="CIN"
                            value="{{ partner_general_setting.p_cin }}" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>CIN Certificate</label>
                        <div class="input-group mb-3">
                          <input type="file" class="form-control" name="CIN_certificate" id="CIN_certificate"
                            placeholder="CIN Certificate" value="{{ partner_general_setting.p_CIN_certificate }}" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Bank Account Number</label>
                        <div class="input-group mb-3">
                          <input type="tel" class="form-control" name="bank_account_number" id="bank_account_number"
                            placeholder="Bank Account Number"
                            value="{{ partner_general_setting.p_bank_account_number }}" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Bank IFSC code</label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control" name="bank_IFSC_code" id="bank_IFSC_code"
                            placeholder="Bank IFSC code" value="{{ partner_general_setting.p_bank_IFSC_code }}" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Bank Name</label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control" name="bank_name" id="bank_name"
                            placeholder="Bank Name" value="{{ partner_general_setting.p_bank_name }}" />
                        </div>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="form-group">
                        <label>Bank Branch</label>
                        <div class="input-group mb-3">
                          <input type="text" class="form-control" name="bank_branch" id="bank_branch"
                            placeholder="Bank Branch" value="{{ partner_general_setting.p_bank_branch }}" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-md-4">
                  <!-- <div class="col-md-12">
                    <div class="form-group">
                      <label class="text-center" style="display: block;">Profile Picture</label>
                      <div class="input-file input-file-image">
                        {% if ProfileImages %}
                        {% for ProfileImage in ProfileImages %}
                        <img class="img-upload-preview img-circle center" width="100" height="100"
                          src="{{ ProfileImage.p_profile_image.url }}" alt="preview" />
                        {% endfor %}
                        {% else %}
                        <img class="img-upload-preview img-circle center" width="100" height="100"
                          src="/media/user-profile-pic.png" alt="preview" />
                        {% endif %}

                        <input type="file" class="form-control form-control-file center" id="uploadImg1"
                          name="profile_image" accept="image/*" value="">

                        <label for="uploadImg1" class="center btn btn-primary btn-round btn-md text-center" style=" display:inherit; margin-left: auto;
                                            margin-right: auto; ">
                          <i class="fa fa-file-image"></i> Select Profile Image</label>
                      </div>
                    </div>
                  </div> -->
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="text-center" style="display: block;">Business Logo</label>
                      <div class="input-file input-file-image">
                        {% if partner_general_setting.p_business_logo %}
                        <img class="img-upload-preview img-circle center" width="100" height="100"
                          src="{{ partner_general_setting.p_business_logo.url }}" alt="preview" />
                        {% else %}
                        <img class="img-upload-preview img-circle center" width="100" height="100"
                          src="/static/assets/img/Business-logo.png" alt="preview" />
                        {% endif %}

                        <input type="file" class="form-control form-control-file center" id="uploadImg2"
                          name="business_logo" accept="image/*" value="">

                        {% if partner_general_setting.p_business_logo %}
                          <div class="row">
                          <div class="col-md-6">
                            <label  class="uploadlogo center btn btn-primary btn-round btn-sm text-center" data-id="{{ partner_general_setting.id }}">
                              <i class="fa fa-file-image" style="color: white;"></i><span style="color: white;">&nbsp Select</span></label>
                          </div>
                          <div class="col-md-6">
                            <a href="{% url 'partner-business-logo-remove' %}">
                              <label class="center btn btn-primary btn-round btn-sm text-center">
                                <i class="fa fa-trash" style="color: white;"></i><span style="color: white;">&nbsp  Remove</span>
                              </label>
                            </a>
                          </div>
                        </div>
                        {% else %}

                          <label class="uploadlogo center btn btn-primary btn-round btn-md text-center" data-id="{{ partner_general_setting.id }}" style=" display:inherit; margin-left: auto;
                                          margin-right: auto; ">
                            <i class="fa fa-file-image"></i> Select Business Logo</label>

                        {% endif %}
                         <p class="text-center center" style="color: #63b90b;"><b>Logo should be less than 500 KB</b></p>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="text-center" style="display: block;">Business Stamp</label>
                      <div class="input-file input-file-image">
                        {% if partner_general_setting.p_business_stamp %}
                        <img class="img-upload-preview img-circle center" width="100" height="100"
                          src="{{ partner_general_setting.p_business_stamp.url }}" alt="preview" />
                        {% else %}
                        <img class="img-upload-preview img-circle center" width="100" height="100"
                          src="/static/assets/img/Business-stamp.png" alt="preview" />
                        {% endif %}

                        <input type="file" class="form-control form-control-file center" id="uploadImg3"
                          name="business_stamp" accept="image/*" value="">

                        {% if partner_general_setting.p_business_stamp %}
                          <div class="row">
                          <div class="col-md-6">
                            <label class="uploadstamp center btn btn-primary btn-round btn-sm text-center" data-id="{{ partner_general_setting.id }}" >
                              <i class="fa fa-file-image" style="color: white;"></i><span style="color: white;">&nbsp  Select</span></label>
                          </div>
                          <div class="col-md-6">
                            <a href="{% url 'partner-business-stamp-remove' %}">
                              <label class="center btn btn-primary btn-round btn-sm text-center">
                                <i class="fa fa-trash" style="color: white;"></i><span style="color: white;">&nbsp  Remove</span>
                              </label>
                            </a>
                          </div>
                        </div>
                        {% else %}
                          <label class="uploadstamp center btn btn-primary btn-round btn-md text-center" data-id="{{ partner_general_setting.id }}"  style=" display:inherit; margin-left: auto;
                                          margin-right: auto; ">
                            <i class="fa fa-file-image"></i> Select Business Stamp</label>
                        {% endif %}
                         <p class="text-center center" style="color: #63b90b;"><b>Stamp should be less than 500 KB</b></p>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="text-center" style="display: block;">Digital Signature</label>
                      <div class="input-file input-file-image">
                        {% if partner_general_setting.p_digital_signature %}
                        <img class="img-upload-preview img-circle center" width="100" height="100"
                          src="{{ partner_general_setting.p_digital_signature.url }}" alt="preview" />
                        {% else %}
                        <img class="img-upload-preview img-circle center" width="100" height="100"
                          src="/static/assets/img/Digital-Signature.png" alt="preview" />
                        {% endif %}

                        <input type="file" class="form-control form-control-file center" id="uploadImg4"
                          name="digital_signature" accept="image/*" value="">

                        {% if partner_general_setting.p_digital_signature %}
                          <div class="row">
                          <div class="col-md-6">
                            <label class="uploadsignature center btn btn-primary btn-round btn-sm text-center" data-id="{{ partner_general_setting.id }}" >
                              <i class="fa fa-file-image" style="color: white;"></i><span style="color: white;">&nbsp  Select</span></label>
                          </div>
                          <div class="col-md-6">
                            <a href="{% url 'partner-digital-signature-remove' %}">
                              <label class="center btn btn-primary btn-round btn-sm text-center">
                                <i class="fa fa-trash" style="color: white;"></i><span style="color: white;">&nbsp  Remove</span>
                              </label>
                            </a>
                          </div>
                        </div>
                        {% else %}
                          <label class="uploadsignature center btn btn-primary btn-round btn-md text-center" data-id="{{ partner_general_setting.id }}"  style=" display:inherit; margin-left: auto;
                                          margin-right: auto; ">
                            <i class="fa fa-file-image"></i> Select Digital Signature</label>
                        {% endif %}
                         <p class="text-center center" style="color: #63b90b;"><b>Signature should be less than 500 KB</b></p>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <div class="text-center mt-3 mb-3">
                <button type="submit" class="btn btn-primary">Update</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- SCRIPTS -->
<!-- Cropping signature modal -->
<div class="container" id="crop-avatar">

  <div class="modal fade" id="avatar-modal" aria-hidden="false" aria-labelledby="avatar-modal-label" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <form class="avatar-form" action="/partner-cropped-signature-upload/" enctype="multipart/form-data"
          method="post">
          {% csrf_token %}
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="avatar-body">

              <!-- Upload image and data -->
              <div class="avatar-upload text-center">
                <input type="hidden" class="avatar-src" name="avatar_src">
                <input type="hidden" class="avatar-data" name="avatar_data">
                <input type="file" name="partnersignaturefile" id="" class="avatar-input">
                <input type="hidden" name="partner_setting_signature_modal_id" id="partner_setting_signature_modal_id"
                  value="">
              </div>

              <!-- Crop and preview -->
              <div class="row">
                <div class="col-md-12">
                  <div class="avatar-wrapper"></div>
                </div>
              </div>

              <div class="row avatar-btns">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                  <button type="submit" class="btn btn-primary btn-block avatar-save">Done</button>
                </div>
              </div>
            </div>
          </div>
      </div>
      <!-- <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div> -->
      </form>
    </div>
  </div>
</div>

<!-- Loading state -->
<div class="loading" aria-label="Loading" role="img" tabindex="-1"></div>
</div>

<!-- end signature modal -->




<!-- Cropping Stamp modal -->
<div class="container" id="crop-avatar-stamp">

  <div class="modal fade" id="avatar-stamp-modal" aria-hidden="false" aria-labelledby="avatar-modal-label"
    role="dialog">
    <div class="modal-dialog ">
      <div class="modal-content">
        <form class="avatar-form" action="/partner-cropped-stamp-upload/" enctype="multipart/form-data" method="post"
          id="avatar-form-stamp-id">
          {% csrf_token %}
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>

          </div>
          <div class="modal-body">
            <div class="avatar-body">

              <!-- Upload image and data -->
              <div class="avatar-upload" id="avatar-upload-stamp-id">
                <input type="hidden" class="avatar-src" name="avatar_src">
                <input type="hidden" class="avatar-data" name="avatar_data">
                <input type="file" name="partnerstampfile" id="stamp-id" class="avatar-input">
                <input type="hidden" name="partner_setting_stamp_modal_id" id="partner_setting_stamp_modal_id" value="">
              </div>

              <!-- Crop and preview -->
              <div class="row">
                <div class="col-md-12">
                  <div class="avatar-wrapper" id="avatar-wrapper-stamp-id"></div>
                </div>
              </div>

              <div class="row avatar-btns">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                  <button type="submit" class="btn btn-primary btn-block avatar-save">Done</button>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div> -->
        </form>
      </div>
    </div>
  </div>

  <!-- Loading state -->
  <div class="loading" aria-label="Loading" role="img1" tabindex="-1" id="loading-stamp-id"></div>
</div>

<!-- end stamp modal -->



<!-- Cropping logo modal -->
<div class="container" id="crop-avatar-logo">

  <div class="modal fade" id="avatar-logo-modal" aria-hidden="false" aria-labelledby="avatar-modal-label" role="dialog">
    <div class="modal-dialog ">
      <div class="modal-content">
        <form class="avatar-form" action="/partner-cropped-logo-upload/" enctype="multipart/form-data" method="post"
          id="avatar-form-stamp-id">
          {% csrf_token %}
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>

          </div>
          <div class="modal-body">
            <div class="avatar-body">

              <!-- Upload image and data -->
              <div class="avatar-upload" id="avatar-upload-stamp-id">
                <input type="hidden" class="avatar-src" name="avatar_src">
                <input type="hidden" class="avatar-data" name="avatar_data">
                <input type="file" name="partnerlogofile" id="stamp-id" class="avatar-input">
                <input type="hidden" name="partner_setting_logo_modal_id" id="partner_setting_logo_modal_id" value="">
              </div>

              <!-- Crop and preview -->
              <div class="row">
                <div class="col-md-12">
                  <div class="avatar-wrapper" id="avatar-wrapper-stamp-id"></div>
                </div>
              </div>

              <div class="row avatar-btns">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                  <button type="submit" class="btn btn-primary btn-block avatar-save">Done</button>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div> -->
        </form>
      </div>
    </div>
  </div>

  <!-- Loading state -->
  <div class="loading" aria-label="Loading" role="img1" tabindex="-1" id="loading-stamp-id"></div>
</div>

<!-- end stamp modal -->

<!-- SCRIPTS -->

<script src="{% static 'assets/js/jquery.min.js' %}"></script>
<script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
<script src="{% static 'assets/js/cropper.min.js' %}"></script>
<script src="{% static 'assets/js/main.js' %}"></script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.29.2/sweetalert2.all.js"></script>
<script>
 

$(".uploadsignature").on("click", function () {
    var partner_set_signature_id = $(this).data('id');


    $('#partner_setting_signature_modal_id').val(partner_set_signature_id);
    $("#avatar-modal").modal();

  });



  $(".uploadstamp").on("click", function () {
    var partner_set_stamp_id = $(this).data('id');


    $('#partner_setting_stamp_modal_id').val(partner_set_stamp_id);
    $("#avatar-stamp-modal").modal();

  });

  $(".uploadlogo").on("click", function () {


    var partner_set_logo_id = $(this).data('id');


    $('#partner_setting_logo_modal_id').val(partner_set_logo_id);
    $("#avatar-logo-modal").modal();

  });




  jQuery.validator.addMethod("lettersonly", function(value, element) {
  return this.optional(element) || /^[a-z]+$/i.test(value);
}, "Only characters required"); 

jQuery.validator.addMethod("pan_val", function(value, element){
if (/[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(value)) {
return true;   // PASS validation when REGEX matches
} else {
    return false;  // FAIL validation
};
}, "Please enter valid PAN number.");

$.validator.addMethod('filesize', function (value, element, param) {
    return this.optional(element) || (element.files[0].size <= param)
  }, 'File size must be less than 500 Kb');

  $.validator.addMethod("validDate", function(value, element) {
      var currDate = new Date();
      return Date.parse(currDate) >= Date.parse(value) ||value == "";
  }, "Please enter valid DOB");

jQuery.validator.addMethod("mobile_number", function (value, element) {
            if (/^[6-9][0-9]{9}$/.test(value)) {
                return true;   // PASS validation when REGEX matches
            } else {
                return false;  // FAIL validation
            };
        }, "Please enter valid Mobile Number");

$.validator.addMethod("indian_cin", function (value, element) {
    if (/^([L|U]{1})([0-9]{5})([A-Za-z]{2})([0-9]{4})([A-Za-z]{3})([0-9]{6})$/.test(value) || this.optional(element)) {
      return true;   // PASS validation when REGEX matches
    } else {
      return false;  // FAIL validation
    };
  }, "Please enter valid CIN number.");

  $.validator.addMethod("indian_gstin", function (value, element) {
    if (/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(value) || this.optional(element)) {
      return true;   // PASS validation when REGEX matches
    } else {
      return false;  // FAIL validation
    };
  }, "Please enter valid GSTIN number.");

  $.validator.addMethod("bank_ifsc", function (value, element) {
    if (/^[A-Z]{4}0[A-Z0-9]{6}$/.test(value) || this.optional(element)) {
      return true;   // PASS validation when REGEX matches
    } else {
      return false;  // FAIL validation
    };
  }, "Please enter valid IFSC Code.");

  $("#form").validate({
    rules: {
      business_name: {
        required: true,
        lettersonly:true,
      },
      /* merchant_business_category: {
        required: true,
      }, */
      pin_code: {
        required: true,
        maxlength : 6,
        digits: true,
      },
      city: {
        required: true,
        lettersonly: true,
      },
      district: {
        required: true,
        lettersonly: true,
      },
      state: {
        required: true,
        lettersonly: true,
      },
      address: {
        required: true,
      },
      company_email: {
        email: true,
        required: true,
      },
      alternate_email: {
        email: true,
      },
      address: {
        required: true,
      },
      pan_number: {
        required: true,
        pan_val: true,
      },
      landline_number: {
        digits: true,
        
      },
      alternate_mobile_number:{
        
        mobile_number : true,

      },
      bank_account_number:{
        digits:true,
      },
      bank_IFSC_code:{
        bank_ifsc:true,
      },
      cin:{
         indian_cin:true,
      },
      gstin:{
          indian_gstin:true,
      },
      GSTIN_certificate: {
        required: function (element) {
          return $("#gstin").val() != "";
        }
      },
      CIN_certificate: {
        required: function (element) {
          return $("#cin").val() != "";
        }
      },
      profile_image:{
        filesize: 500000
      },
      business_logo:{
        filesize: 500000
      },
      business_stamp:{
        extension: "png",
        filesize: 500000
      },
      digital_signature:{
        filesize: 500000
      }
    },
    messages: {
      business_stamp: {
        extension: "Only png file is acceptable."
      },
      
    }
  });

  $(document).ready(function () {
    $("#pin_code").keyup(function () {
      var pincode = $('#pin_code').val();
      if (pincode.length == 6) {
        $.ajax({
          url: "https://api.postalpincode.in/pincode/" + pincode,
          cache: false,
          dataType: "json",
          type: "GET",
          success: function (data) {
            state = data['0']['PostOffice'][0]['State']
            city = data['0']['PostOffice'][0]['Region']
            district = data['0']['PostOffice'][0]['District']
            $('#state').val(state)
            $('#city').val(city)
            $('#district').val(district)
          }
        })
      }
      else {
        $('#state').val("")
        $('#city').val("")
        $('#district').val("")
      }
    })
  })
</script>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<!-- Atlantis DEMO methods, don't include it in your project! -->
<script src="/static/assets/js/setting-demo2.js"></script>

{% endblock javascripts %}