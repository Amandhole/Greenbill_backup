{% extends "layouts/merchant-base.html" %}

{% block title %} Stamp {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}
{% load static %}
<link rel="stylesheet" href="{% static 'assets/css/cropper.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/cropper.min.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/main.css' %}">

<style>
    /* Jquery validation */
    label {
        border: 0;
        margin-bottom: 3px;
        display: block;
        width: 100%;
    }
    label {
        display: block;
        font: 1rem 'Fira Sans', sans-serif;
    }
    input {
        margin: .4rem 0;
    }
    /* Datatable => to float button right  */
    div.dt-buttons {
        position: relative;
        float: right;
        border-radius: 20px;
    }
    /* Datatable => rounded corner button  */
    button.dt-button {
        border-radius: 20px;
    }
    .permission-denied {
        color: red;
        display: flex; 
        justify-content: center;
        font-size: 25px;
        font-weight: 500;
    }
</style>
<style>
    .container1{ 
        margin: 25px;
        width: 100%;
    }
    .rect-gray{   
        color: #555;
        border: 1rem double #555;  
        font-size: 2.7rem;
        font-family: "Open sans", Helvetica, Arial, sans-serif;
        border-radius: 0;
        padding: 0.5rem;
      }
      .container2{ 
        margin: 25px;
        width: 100%;
      }
      .rect-red{
        color: #D23;
        border: 1rem double #D23;  
        font-size: 2.7rem;
        font-family: "Open sans", Helvetica, Arial, sans-serif;
        border-radius: 0;
        padding: 0.5rem;  
      }
      .container3{
        margin: 25px;
        width: 100%;    
      }
      .rect-green{
        color: #0A9928;
        border: 1rem double #0A9928;  
        font-size: 2.7rem;
        font-family: "Open sans", Helvetica, Arial, sans-serif;
        border-radius: 0;
        padding: 0.5rem; 
      }
      .container4{
        margin: 25px;
        width: 100%;   
      }
      .rect-blue{
        color: #0000FF;
        border: 1rem double #0000FF;  
        font-size: 2.7rem;
        font-family: "Open sans", Helvetica, Arial, sans-serif;
        border-radius: 0;
        padding: 0.5rem; 
      }
      .container5{
        margin: 25px;
        width: 100%;    
      }
      .circle-black{
        color: #555;
        border: 0.5rem double #555;
        border-radius: 50%;
        font-size: 2.7rem;
        padding: 20px;
      }
      .container6{
        margin: 25px;
        width: 100%; 
        height: 100%; 
      }
      .circle-red{
        color: #D23;
        border: 0.5rem double #D23;
        border-radius: 50%;
        font-size: 1.5rem;  
        padding: 5px;
      }
      .container7{                
       margin: 25px;
       width: 100%;
       height: 100%;       
    }
      .circle-green{
       color: #0A9928;
       border: 0.5rem double #0A9928;
       border-radius: 50%;
       font-size: 1.5rem;
       padding: 5px
      }
      .container8{
       margin: 25px;
       width: 100%;
      }
      .circle-blue{
       color: #0000FF;
       border: 0.5rem double #0000FF;
       border-radius: 50%;
       font-size: 1.5rem;
       padding: 5px;
      }
      .container10{                
        margin: 25px;
        width: 100%;
        height: 100%;       
     }
       .oval-green{
        color: #0A9928;
        border: 0.5rem double #0A9928;
        border-radius: 50%;
        font-size: 2.7rem;
        padding: 20px;
       }
       .container11{
        margin: 25px;
        width: 100%; 
        height: 100%; 
      }
      .oval-red{
        color: #D23;
        border: 0.5rem double #D23;
        border-radius: 50%;
        font-size: 2.7rem;  
        padding: 20px;
      }  
      .container12{
        margin: 25px;
        margin: 25px;
        width: 100%;
       }
       .oval-blue{
        color: #0000FF;
        border: 0.5rem double #0000FF;
        border-radius: 50%;
        font-size: 2.7rem;
        padding: 20px;
       }
       .hide_btn{
        display: none;
    }
</style>

<div class="content">
    <div class="page-inner">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <div class="d-flex align-items-center">
                            <h4 class="card-title">Stamps</h4>
                            <ul class="breadcrumbs">
                                <li class="nav-home">
                                    <a href="/merchant-index/">
                                        <i class="flaticon-home"></i>
                                    </a>
                                </li>
                                <li class="separator">
                                  <i class="flaticon-right-arrow"></i>
                                </li>
                                <li class="nav-item">
                                    <a>Design</a>
                                </li>
                                <li class="separator">
                                    <i class="flaticon-right-arrow"></i>
                                </li>
                                <li class="nav-item">
                                    <a href="/stampview/">Stamps</a>
                                </li>
                            </ul>
                            {% if is_merchant == True %}
                            <button class="btn btn-primary btn-round ml-auto" data-toggle="modal" data-target="#myModal1">
                                <i class="fa fa-plus"></i>
                                Select My Stamp
                            </button>
                            <div class="col-md-3">
                            <button class="btn btn-primary btn-round ml-auto" data-toggle="modal" data-target="#myModal">
                                <i class="fa fa-plus"></i>
                                Upload My Stamp
                            </button>
                            {% else %}
                                {% for actions in merchant_action_permissions_list %}
                                    {% if actions.module_id|lower == "Design"|lower and actions.feature_id|lower == "Stamps"|lower %}
                                        {% if actions.add_permission == "1" %}
                                            <<button class="btn btn-primary btn-round ml-auto" data-toggle="modal" data-target="#myModal1">
                                                <i class="fa fa-plus"></i>
                                                Select My Stamp
                                            </button>
                                            <div class="col-md-3">
                                            <button class="btn btn-primary btn-round ml-auto" data-toggle="modal" data-target="#myModal">
                                                <i class="fa fa-plus"></i>
                                                Upload My Stamp
                                            </button>
                                        {% endif %}
                                    {% endif %}
                                {% endfor %}

                            {% endif %}
                            
                        </div>

                        </div>
                    </div>

                    {% if is_merchant == True %}
                        <div class="card-body">
                        <form action="/stampview/" method="POST" enctype="multipart/form-data" id="add_merchant_form1" name="form" autocomplete="off">
                            {% csrf_token %}
                           <div class="row">   
                                {% for status in status %}
                                
                                {% if status.selection_design == "oval" %}
                                {% if status.option_color == "Green" %}
                                <div class="col-md-4">
                                    <div class="stamp5">
                                            <div class="" role="document">
                                                <div class="row">
                                                    <div class="card " style="margin:auto; box-shadow: none;">
                                                <!-- <div class="modal-content" > -->
                                                    <!-- <div class="form-group" style="border: 1px solid black;"> -->
                                                        <div class="container10">
                                                            <span class="oval-green" style="margin:auto;">{{status.stamp_content}}</span>
                                                        </div>
                                                        <input type="hidden" value="{{status.id}}" name="content" id="status_id"> 
                                                        <div style="margin:auto;">
                                                            {% if status.is_check == 0 %}
                                                            <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                            {% else %}
                                                        <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                        {% endif %}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endif %}

                                    {% if status.option_color == "Red" %}
                                    <div class="col-md-4">
                                        <div class="stamp9">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto; box-shadow: none;">
                                                    <div class="modal-content">
                                                        <!-- <div class="form-group" style="border: 1px solid black;"> -->
                                                            <div class="container11">
                                                            <span class="oval-red" style="margin:auto;">{{status.stamp_content}}</span>
                                                            </div>
                                                            <input type="hidden" value="{{status.id}}" name="content" id="status_id">
                                                            <div style="margin:auto;">
                                                            {% if status.is_check == 0 %}
                                                            <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                            {% else %}
                                                            <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                            {% endif %}
                                                            
                                                            </div>
                                                        <!-- </div> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% endif %}


                                {% if status.option_color == "Blue" %}
                                <div class="col-md-4">
                                    <div class="stamp6">
                                            <div class="modal-dialog" role="document">
                                                <div class="row">
                                                    <div class="card " style="margin:auto; box-shadow: none;">
                                                <div class="modal-content">
                                                    <!-- <div class="form-group" style="border: 1px solid black;"> -->
                                                        <div class="container12">
                                                            <span class="oval-blue" style="margin:auto;">{{status.stamp_content}}</span>  
                                                        </div>
                                                        <input type="hidden" value="{{status.id}}" name="content" id="status_id">
                                                        <div style="margin:auto;">
                                                        {% if status.is_check == 0 %}
                                                        <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                        {% else %}
                                                        <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                        {% endif %}
                                                        </div>
                                                    <!-- </div> -->
                                                </div>
                                           </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                            {% endif %}




                                    {% if status.selection_design == "circle" %}
                                    {% if status.option_color == "Green" %}
                                        <div class="col-md-4">
                                            <div class="stamp5">
                                                <div class="" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto; box-shadow: none;  ">
                                                            <div class="container7">
                                                                <div class="circle-green" style="width: 150px;height: 150px;font-size: 1.4rem;padding-top: 25%;text-align: center;">{{status.stamp_content}}</div>
                                                            </div>
                                                            <div style="margin:auto;">
                                                                {% if status.is_check == 0 %}
                                                                <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                                {% else %}
                                                                <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                                {% endif %}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}

                                        {% if status.option_color == "Blue" %}
                                        <div class="col-md-4">
                                            <div class="stamp6">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card" style="margin:auto;  box-shadow: none; ">
                                                            <div class="modal-content">
                                                                <div class="container8">
                                                                    <div class="circle-blue" style="width: 150px;height: 150px;font-size: 1.4rem;padding-top: 25%;text-align: center;">{{status.stamp_content}}</div>
                                                                </div>
                                                                <div style="margin:auto;">
                                                                    {% if status.is_check == 0 %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                                    {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                                    {% endif %}

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}

                                        {% if status.option_color == "Red" %}
                                        <div class="col-md-4">
                                                <div class="stamp9">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="row">
                                                                <div class="card " style="margin:auto; box-shadow: none;  ">
                                                            <div class="modal-content">
                                                                    <div class="container6">
                                                                    <div class="circle-red" style="width: 150px;height: 150px;font-size:1.4rem;padding-top: 25%;text-align: center;">{{status.stamp_content}}</div>
                                                                    </div>
                                                                    <div style="margin:auto;">
                                                                        {% if status.is_check == 0 %}
                                                                        <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" checked></label>
                                                                        {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]"></label>
                                                                    {% endif %}
                                                                    </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}
                                    {% endif %}
                            
                                    {% if status.selection_design == "Rectangle" %}
                                    {% if status.option_color == "Green" %}
                                        <div class="col-md-4">
                                            <div class="stamp10">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto; box-shadow: none;  ">
                                                            <div class="modal-content">
                                                                <div class="container3">
                                                                    <span class="rect-green" style="margin:auto;">{{status.stamp_content}}</span>
                                                                </div>
                                                                <div style="margin:auto;">
                                                                    {% if status.is_check == 0 %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" checked></label>
                                                                    {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]"></label>
                                                                    {% endif %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}

                                        {% if status.option_color == "Blue" %}
                                        <div class="col-md-4">
                                            <div class="stamp11">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto;  box-shadow: none; ">
                                                            <div class="modal-content">
                                                                <div class="container4">
                                                                    <span class="rect-blue" style="margin:auto;">{{status.stamp_content}}</span>
                                                                </div>
                                                                <div style="margin:auto;">
                                                                    {% if status.is_check == 0 %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" value="{{status.id}}" checked></label>
                                                                    {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" value="{{status.id}}"></label>
                                                                    {% endif %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}

                                        {% if status.option_color == "Red" %}
                                        <div class="col-md-4">
                                            <div class="stamp13">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto;  box-shadow: none;  ">
                                                            <div class="modal-content">
                                                                <div class="container2">
                                                                    <span class="rect-red" style="margin:auto;">{{status.stamp_content}}</span>
                                                                </div>
                                                                <div style="margin:auto;">
                                                                    {% if status.is_check == 0 %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" checked></label>
                                                                    {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]"></label>
                                                                    {% endif %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div> 
                                        {% endif %}  
                                    {% endif %}
                                    <div>
                                      <h2><span id="notvalid" style="color: red;"> </span></h2>
                                    </div>
                                {% endfor %}
                            </div>
                           
                        <div class="modal-footer align-items-center justify-content-center">           
                            <input type="submit" class="btn btn-primary" value="Save" id="submit_stamp_btn" data-id="" onclick="fun()"/>
                        </div>
                    </form>
                </div>
                    {% else %}
                        {% for actions in merchant_action_permissions_list %}
                            {% if actions.module_id|lower == "Design"|lower and actions.feature_id|lower == "Stamps"|lower %}
                                {% if actions.view_permission == "1" %}
                                    <input type="hidden" value="1" name="access_permission" id="access_permission">
                                    <div class="card-body">
                        <form action="/stampview/" method="POST" enctype="multipart/form-data" id="add_merchant_form1" name="form" autocomplete="off">
                            {% csrf_token %}
                           <div class="row">   
                                {% for status in status %}
                                
                                {% if status.selection_design == "oval" %}
                                {% if status.option_color == "Green" %}
                                <div class="col-md-4">
                                    <div class="stamp5">
                                            <div class="" role="document">
                                                <div class="row">
                                                    <div class="card " style="margin:auto; box-shadow: none;">
                                                <!-- <div class="modal-content" > -->
                                                    <!-- <div class="form-group" style="border: 1px solid black;"> -->
                                                        <div class="container10">
                                                            <span class="oval-green" style="margin:auto;">{{status.stamp_content}}</span>
                                                        </div>
                                                        <input type="hidden" value="{{status.id}}" name="content" id="status_id"> 
                                                        <div style="margin:auto;">
                                                            {% if status.is_check == 0 %}
                                                            <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                            {% else %}
                                                        <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                        {% endif %}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    {% endif %}

                                    {% if status.option_color == "Red" %}
                                    <div class="col-md-4">
                                        <div class="stamp9">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto; box-shadow: none;">
                                                    <div class="modal-content">
                                                        <!-- <div class="form-group" style="border: 1px solid black;"> -->
                                                            <div class="container11">
                                                            <span class="oval-red" style="margin:auto;">{{status.stamp_content}}</span>
                                                            </div>
                                                            <input type="hidden" value="{{status.id}}" name="content" id="status_id">
                                                            <div style="margin:auto;">
                                                            {% if status.is_check == 0 %}
                                                            <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                            {% else %}
                                                            <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                            {% endif %}
                                                            
                                                            </div>
                                                        <!-- </div> -->
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                {% endif %}


                                {% if status.option_color == "Blue" %}
                                <div class="col-md-4">
                                    <div class="stamp6">
                                            <div class="modal-dialog" role="document">
                                                <div class="row">
                                                    <div class="card " style="margin:auto; box-shadow: none;">
                                                <div class="modal-content">
                                                    <!-- <div class="form-group" style="border: 1px solid black;"> -->
                                                        <div class="container12">
                                                            <span class="oval-blue" style="margin:auto;">{{status.stamp_content}}</span>  
                                                        </div>
                                                        <input type="hidden" value="{{status.id}}" name="content" id="status_id">
                                                        <div style="margin:auto;">
                                                        {% if status.is_check == 0 %}
                                                        <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                        {% else %}
                                                        <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                        {% endif %}
                                                        </div>
                                                    <!-- </div> -->
                                                </div>
                                           </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                            {% endif %}




                                    {% if status.selection_design == "circle" %}
                                    {% if status.option_color == "Green" %}
                                        <div class="col-md-4">
                                            <div class="stamp5">
                                                <div class="" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto; box-shadow: none;  ">
                                                            <div class="container7">
                                                                <div class="circle-green" style="width: 150px;height: 150px;font-size: 1.4rem;padding-top: 25%;text-align: center;">{{status.stamp_content}}</div>
                                                            </div>
                                                            <div style="margin:auto;">
                                                                {% if status.is_check == 0 %}
                                                                <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                                {% else %}
                                                                <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                                {% endif %}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}

                                        {% if status.option_color == "Blue" %}
                                        <div class="col-md-4">
                                            <div class="stamp6">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card" style="margin:auto;  box-shadow: none; ">
                                                            <div class="modal-content">
                                                                <div class="container8">
                                                                    <div class="circle-blue" style="width: 150px;height: 150px;font-size: 1.4rem;padding-top: 25%;text-align: center;">{{status.stamp_content}}</div>
                                                                </div>
                                                                <div style="margin:auto;">
                                                                    {% if status.is_check == 0 %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}" checked></label>
                                                                    {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" name="chk[]" value="{{status.id}}"></label>
                                                                    {% endif %}

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}

                                        {% if status.option_color == "Red" %}
                                        <div class="col-md-4">
                                                <div class="stamp9">
                                                        <div class="modal-dialog" role="document">
                                                            <div class="row">
                                                                <div class="card " style="margin:auto; box-shadow: none;  ">
                                                            <div class="modal-content">
                                                                    <div class="container6">
                                                                    <div class="circle-red" style="width: 150px;height: 150px;font-size:1.4rem;padding-top: 25%;text-align: center;">{{status.stamp_content}}</div>
                                                                    </div>
                                                                    <div style="margin:auto;">
                                                                        {% if status.is_check == 0 %}
                                                                        <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" checked></label>
                                                                        {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]"></label>
                                                                    {% endif %}
                                                                    </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}
                                    {% endif %}
                            
                                    {% if status.selection_design == "Rectangle" %}
                                    {% if status.option_color == "Green" %}
                                        <div class="col-md-4">
                                            <div class="stamp10">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto; box-shadow: none;  ">
                                                            <div class="modal-content">
                                                                <div class="container3">
                                                                    <span class="rect-green" style="margin:auto;">{{status.stamp_content}}</span>
                                                                </div>
                                                                <div style="margin:auto;">
                                                                    {% if status.is_check == 0 %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" checked></label>
                                                                    {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]"></label>
                                                                    {% endif %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}

                                        {% if status.option_color == "Blue" %}
                                        <div class="col-md-4">
                                            <div class="stamp11">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto;  box-shadow: none; ">
                                                            <div class="modal-content">
                                                                <div class="container4">
                                                                    <span class="rect-blue" style="margin:auto;">{{status.stamp_content}}</span>
                                                                </div>
                                                                <div style="margin:auto;">
                                                                    {% if status.is_check == 0 %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" value="{{status.id}}" checked></label>
                                                                    {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" value="{{status.id}}"></label>
                                                                    {% endif %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        {% endif %}

                                        {% if status.option_color == "Red" %}
                                        <div class="col-md-4">
                                            <div class="stamp13">
                                                <div class="modal-dialog" role="document">
                                                    <div class="row">
                                                        <div class="card " style="margin:auto;  box-shadow: none;  ">
                                                            <div class="modal-content">
                                                                <div class="container2">
                                                                    <span class="rect-red" style="margin:auto;">{{status.stamp_content}}</span>
                                                                </div>
                                                                <div style="margin:auto;">
                                                                    {% if status.is_check == 0 %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]" checked></label>
                                                                    {% else %}
                                                                    <label>Select : <INPUT class="sel1" type="checkbox" value="{{status.id}}" name="chk[]"></label>
                                                                    {% endif %}
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div> 
                                        {% endif %}  
                                    {% endif %}
                                    <div>
                                      <h2><span id="notvalid" style="color: red;"> </span></h2>
                                    </div>
                                {% endfor %}
                            </div>
                           
                        <div class="modal-footer align-items-center justify-content-center"> 
                        {% if actions.edit_permission == "1" %}
                                        <div class="modal-footer align-items-center justify-content-center">           
                                            <input type="submit" class="btn btn-primary" value="Save" id="submit_stamp_btn" data-id="" onclick="fun()"/>
                                        </div>
                                    {% endif %}          
                            
                        </div>
                    </form>
                </div>
                                    
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                        <div class="card-body permission-denied" style="display:none">
                            <div class="permission-denied" style="padding: 5%">Permission Denied</div> 
                        </div>
                    {% endif %}


                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="myModal" role="dialog" >
    <div class="modal-dialog modal-lg" >
      <!-- Modal content-->
       <div class="col-md-12 " >
        <form action="/save-stamp-image/" method="POST" enctype="multipart/form-data" id="stamp_image_form" name="form" autocomplete="off">
        {% csrf_token %}
           <div class="row" >
                <div class="modal-content" >
                    <div class="modal-header">
                        <h2 class="modal-title w-100 text-center">Upload Stamp</h2>

                    </div>

                    <!-- <h5 style="color:red; padding-left:300px">PNG format only</h5> -->
                    <!-- <form> -->

                    <div class="row">

                        <div class="col-md-4"></div>
                        <div class="col-md-4">
                            <div class="form-group">
                        <label class="text-center" style="display: block;">Stamp Image</label>
                        <div class="input-file input-file-image">
                         <div style="display:none">
                          <img class="img-upload-preview img-circle center" width="100" height="100"
                            src="/static/assets/img/Business-logo.png" alt="preview" /></div>

                          <input type="file" class="form-control form-control-file center" id="uploadImg2"
                          name="business_logo" accept="image/*" value="">
                          
                            <label class="uploadlogo center btn btn-primary btn-round btn-md text-center" data-id="{{ merchant_general_setting.id }}" style=" display:inherit; margin-left: auto;
                                            margin-right: auto; ">
                              <i class="fas fa-image"></i> Select Stamp Image</label>    
                          
                          <p class="text-center center" style="color: #63b90b;"><b>Image should be less than 500 KB</b></p>
                        </div>
                      </div>
                            <!-- <div class="form-group">
                                <label>Select Stamp Image <small style="color: red;">*</small></label>
                                <input type="file" name="stamp_image" value="{{stamp_uploaded_image.url}}" id="stamp_image_id" class="form-control" />
                            </div> -->
                        </div>
                    </div>
                    <!-- <div class="modal-footer align-items-center justify-content-center">           
                        <input type="submit" class="btn btn-primary" value="Save" data-id=""/>
                    </div> -->
                </div>
            </div>
            </form>
        </div>   
    </div> 
</div> 

<div class="modal fade" id="myModal1" role="dialog" >
    <div class="modal-dialog modal-lg" >
      <!-- Modal content-->
       <div class="col-md-12 " >
        <form action="/merchant-stamp-select-img/" method="POST" enctype="multipart/form-data" id="add_merchant_form_img" name="form" autocomplete="off">
            {% csrf_token %}
            <div class="row" >
                <div class="modal-content" >
                    <div class="modal-header">
                        <h2 class="modal-title w-100 text-center">Select Stamp</h2>
                    </div> 
                    <div class="row" style="padding-left: 80px; padding-top: 30px">

                        {% if img_id == '' %}
                        <h4 style="margin-left: 300px; color: red;">Kindly Add Stamp Image First.</h4>
                        {% endif %}
                        {% for img in stamp_uploaded_image %}
                        
                        {% if checked_stamp_image == img.id %}
                      <div class="col-md-4">
                        <img src="{{img.m_business_stamp.url}}" style="width:100px; height: 100px;"><br>
                        
                        <input type="radio" name="select_img" style="margin-left:50px;" value="{{img.id}}" checked>
                        
                        
                      </div>
                      {% else %}
                      
                      <div class="col-md-4">
                        <div class="card-content hover_btn">
                        <div class="hide_btn">
                            <button type="button" data-toggle="tooltip" data-target=""
                              title="Delete " class="position btn btn-link btn-danger delete_stamp"
                              id="deactivate-modal-div" data-original-title="Delete MerchantModel"
                              data-url="{{img.id}}" data-id="{{img.id}}"><i
                              class="fas fa-trash"></i>
                            </button>
                        </div>
                        <img src="{{img.m_business_stamp.url}}" style="width:100px; height: 100px;"><br>
                        <input type="radio" name="select_img" style="margin-left:50px;" value="{{img.id}}" required="">
                    </div>
                        
                      </div>
                      {% endif %}
                      
                        {% endfor %}
                    </div>
                     

                    <div class="modal-footer align-items-center justify-content-center"> 
                        {% if img_id != '' %}          
                        <input type="submit" class="btn btn-primary" value="Save" data-id=""/>
                        {% endif %}
                    </div>
                </div>
            </div>
        </form>
        </div>   
    </div>
     
</div>                           
<div class="container" id="crop-avatar-logo">

  <div class="modal fade" id="avatar-logo-modal" aria-hidden="false" aria-labelledby="avatar-modal-label" role="dialog">
    <div class="modal-dialog ">
      <div class="modal-content">
        <form class="avatar-form" action="/merchant-stamp-cropped-img-upload/" enctype="multipart/form-data" method="post"
          id="avatar-form-stamp-id">
          {% csrf_token %}
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>

          </div>
          <div class="modal-body">
            <div class="avatar-body">

              <!-- Upload image and data -->
              <div class="avatar-upload" id="avatar-upload-stamp-id">
                <input type="hidden" class="avatar-src" name="avatar_src">
                <input type="hidden" class="avatar-data" name="avatar_data">
                <input type="file" name="merchantlogofile" id="stamp-id" class="avatar-input">
                <input type="hidden" name="merchant_setting_modal_id" id="merchant_setting_modal_id" value="">

              </div>

              <!-- Crop and preview -->
              <div class="row">
                <div class="col-md-12">
                  <div class="avatar-wrapper" id="avatar-wrapper-stamp-id"></div>
                </div>
              </div>

              <label class="mt-3">Name: <span style="color: red;">*</span></label>
              <input type="text" class="form-control form-control-file center" name="own_stamp_name">

              <div class="row avatar-btns">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                  <button type="submit" class="btn btn-primary btn-block avatar-save">Done</button>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div> -->
        </form>
      </div>
    </div>
  </div>

  <!-- Loading state -->
  <div class="loading" aria-label="Loading" role="img1" tabindex="-1" id="loading-stamp-id"></div>
</div>


<script src="{% static 'assets/js/jquery.min.js' %}"></script>
<script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
<script src="{% static 'assets/js/cropper.min.js' %}"></script>
<script src="{% static 'assets/js/main.js' %}"></script>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.29.2/sweetalert2.all.js"></script>

<script type="text/javascript">
    $(".uploadlogo").on("click", function () {

        // alert('aaa')
    // var merch_set_logo_id = $(this).data('id');


    // $('#merchant_setting_modal_id').val(merch_set_logo_id);
    $("#avatar-logo-modal").modal();

  });
</script>
<script type="text/javascript">
    $('input[type=file]').val();

 $(".uploadsignature").on("click", function () {
    var merch_set_signature_id = $(this).data('id');


    $('#merchant_setting_signature_modal_id').val(merch_set_signature_id);
    $("#avatar-modal").modal();

  });
</script>
<script type="text/javascript">
    $(".uploadauthsignature").on("click", function () {
        var merch_auth_signature_id = $(this).data('id');


        $('#merchant_authorised_signature_modal_id').val(merch_auth_signature_id);
        $("#avatar-stamp-modal").modal();

      });
</script>
<script type="text/javascript">
    $(function () {
        $('.delete_stamp').on('click', function (e) {
            e.preventDefault();
            Swal.fire({
                title: 'Are you sure?',
                text: "You won't be able to revert this!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes'
            }).then((result) => {
                if (result.isConfirmed) {
                    var id = $(this).attr("data-id");
                    $.ajax({
                        type: "POST",
                        url: "/delete-merchant-own-stamp/" + id,
                        data: { csrfmiddlewaretoken: document.getElementsByName('csrfmiddlewaretoken')[0].value },
                        success: function (response) {
                            Swal.fire(

                                {
                                    title: 'Deleted!',
                                    text: 'Stamp has been deleted',
                                    icon: 'success',
                                    timer: 1500,
                                    showConfirmButton: false,
                                })
                                .then(function () {
                                    location.reload();
                                });
                        },
                        error: function () {
                            Swal.fire({
                                title: 'Deleted!',
                                    text: 'Stamp has been deleted',
                                    icon: 'success',
                                confirmButtonClass: "btn-success",
                                allowOutsideClick: false,
                                allowEscapeKey: false,
                                showConfirmButton: false,
                                timer: 1500
                            })
                                .then(function () {
                                    location.reload();
                                });
                        }
                    });
                }
            })
        });
    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        $(document).on('mouseenter', '.hover_btn', function () {
            $(this).find(".hide_btn").show();
        }).on('mouseleave', '.hover_btn', function () {
            $(this).find(".hide_btn").hide();
        });
    });
</script>
<script type="text/javascript">
    $("#avatar-form-stamp-id").validate({
        rules:{
            own_stamp_name:{
                required: true,
            },
        },
        messages: {
            required: "This field is required",
        },
    });
    $("#add_merchant_form_img").validate({
        rules: {
            select_img: {
                required: true,
            },
        },
        messages: {
            required: "This field is required",
        },

    });
    $("#add_merchant_form1").validate({
        rules: {
            chk: {
                required: true,
            },
        },

    });

</script>
<script>
    if (window.history.replaceState) {
        window.history.replaceState(null, null, window.location.href);
    }
</script>
<script type="text/javascript">

    $.validator.addMethod('dimention', function(value, element, param) {
    if(element.files.length == 0){
        return true; 
    }
    var width = $(element).data('imageWidth');
    var height = $(element).data('imageHeight');
    if(width == param[0] && height == param[1]){
        return true;
    }else{
        return false;
    }
},'Image must be 1080 x 1080 pixels dimension');

$('#stamp_image_id').change(function() {
    $('#stamp_image_id').removeData('imageWidth');
    $('#stamp_image_id').removeData('imageHeight');
    var file = this.files[0];
    var tmpImg = new Image();
    tmpImg.src=window.URL.createObjectURL( file ); 
    tmpImg.onload = function() {
        width = tmpImg.naturalWidth,
        height = tmpImg.naturalHeight;
        $('#stamp_image_id').data('imageWidth', width);
        $('#stamp_image_id').data('imageHeight', height);
    }
});
$.validator.addMethod('filesize', function (value, element, param) {
    return this.optional(element) || (element.files[0].size <= param)
  }, 'File size must be less than 500 Kb');

jQuery.validator.addMethod("extension", function(value, element, param) {
    param = typeof param === "string" ? param.replace(/,/g, '|') : "png|jpe?g|gif";
    return this.optional(element) || value.match(new RegExp(".(" + param + ")$", "i"));
}, jQuery.format("Please Select only png."));


    $("#stamp_image_form").validate({
        rules: {
            stamp_image: {
                required: true,
                filesize: 500000,
                extension: "png",
            },
        },

    });
    </script>

<script type="text/javascript">

$("input").change(function(){
     $('.status').val($('input:checkbox:last'));
});
    
    function myfun(){
        var a = document.getElementsByName('chk[]');
        var newvar = 0;
        var count;
        for(count=0; count<a.length; count++){
            if(a[count].checked==true){
                newvar = newvar +1;
            }
        }
        if(newvar>=6){
            document.getElementById('notvalid').innerHTML="Merchant Please Select Only Five Stamps"
            return false;
        } 
    }
</script>
<script type="text/javascript">
    var limit = 6;
    var limit1 = 0;
    $('.sel1').on('change', function(evt) {
        document.getElementById("submit_stamp_btn").disabled = false;
        if($('.sel1:checked').length == limit1){
            document.getElementById("submit_stamp_btn").disabled = true;
        }
       if($('.sel1:checked').length >= limit) {
           this.checked = false;
           Swal.fire({
                
                text: "Only 5 Stamps can be selected!",
                icon: 'warning',
                timer:2000,
                showConfirmButton: false,
                
            });
       }
    });
    
    if($('.sel1:checked').length == limit1){
        document.getElementById("submit_stamp_btn").disabled = true;
    }
</script>


{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<!-- Atlantis DEMO methods, don't include it in your project! -->
<script src="/static/assets/js/setting-demo2.js"></script>

{% endblock javascripts %}







