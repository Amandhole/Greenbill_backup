{% extends "layouts/base.html" %}  {% block title %} Business Settings {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %} {% block content %}

{% load static %}

<link rel="stylesheet" href="{% static 'assets/css/cropper.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/cropper.min.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/main.css' %}">
<style>
  .center {
    display: block;
    margin-left: auto;
    margin-right: auto;
  }
  #paymenteError {
    display: none;
  }
  #is_payu_available {
    display: none;
  }
</style>
<div class="content">
  <div class="page-inner">
    <div class="row">
      <div class="col-md-12">
        <div class="card">
          <div class="card-header">
            <div class="d-flex align-items-center">
                <h4 class="card-title">Merchant Business Info</h4>
                <ul class="breadcrumbs">
                    <li class="nav-home">
                      <a href="/">
                        <i class="flaticon-home"></i>
                      </a>
                    </li>
                    <li class="separator">
                      <i class="flaticon-right-arrow"></i>
                    </li>
                    <li class="nav-item">
                      <a>Merchant Business Info</a>
                    </li>
                    <li class="separator">
                      <i class="flaticon-right-arrow"></i>
                    </li>
                    <li class="nav-item">
                      <a href="/merchant-general-setting/">Merchant Busines</a>
                    </li>
                  </ul>
            </div>
          </div>

          
            <div class="card-body">
              <form class="form-control" action="/edit-merchant-of-software-partner/{{merchant_b_id}}/" method="POST" id="merchant_form" name="form"
              autocomplete="off" enctype="multipart/form-data">
              {% csrf_token %}
                <input type="hidden" name="merchant_setting_id" id="merchant_setting_id" value="{{ merchant_general_setting.id }}">
                <div class="card">
                <div class="card-header" style="background-color: #00569d; border-radius: 18px;  border-bottom: 0.5px solid rgb(168, 166, 166); padding: 5px;">
                  <h4 class="card-title" style="padding-left: 10px; color: white;"><b>Billing Details</b></h4>
                </div>
                <div class="card-body" style="padding-bottom: 0px;">
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Company Name <span style="color: red;">*</span></div>
                      <div class="col-md-9 input-group ">
                        <input type="text" class="form-control" id="m_business_name_for_billing" name="m_business_name_for_billing"
                          value="{{ merchant_general_setting.m_business_name_for_billing }}" placeholder="Company Name" maxlength="50" 
                          style="padding:3px; border: none;" required/>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">GSTIN</div>
                      <div class="col-md-9 input-group ">
                        <input type="tel" pattern="[a-zA-Z0-9]+" class="form-control" maxlength="15" name="gstin" id="gstin" placeholder="GSTIN"
                          value="{{ merchant_general_setting.m_gstin }}" 
                          style="padding:3px; border: none;" />
                      </div>
                    </div>
                  </div>
                  <!-- <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">CIN</div>
                      <div class="col-md-9 input-group ">
                        <input type="text" pattern="[a-zA-Z0-9]+" class="form-control" maxlength="21" name="cin" id="cin" placeholder="CIN"
                          value="{{ merchant_general_setting.m_cin }}" 
                          style="padding:3px; border: none;" />
                      </div>
                    </div>
                  </div>
                      
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">TIN/VAT Number</div>
                      <div class="col-md-9 input-group ">
                        <input type="tel" pattern="[a-zA-Z0-9]+"  maxlength="11" class="form-control" name="tin_vat_number" id="tin_vat_number"
                          placeholder="TIN/VAT Number" value="{{merchant_general_setting.m_vat_tin_number}}"
                          style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div> -->
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Phone Number</div>
                      <div class="col-md-9 input-group ">
                        <input type="text"  class="form-control" name="m_billing_phone"
                          id="m_billing_phone" placeholder="Mobile Number"
                          value="{{ merchant_general_setting.m_billing_phone }}" maxlength="10" 
                          style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Address <span style="color: red;">*</span></div>
                      <div class="col-md-3 input-group ">
                        <input type="text" pattern="[a-zA-Z]+" class="form-control" name="m_billing_address" id="m_billing_address" placeholder="Billing Address"
                        value="{{ merchant_general_setting.m_billing_address }}" 
                        style="padding:3px; border: none;" required="" maxlength="100" />
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Email<!--  <span style="color: red;">*</span> --></div>
                      <div class="col-md-3 input-group ">
                        <input type="email" class="form-control" name="m_billing_email" maxlength="30" id="m_billing_email" placeholder="Billing Address"
                        value="{{ merchant_general_setting.m_billing_email }}" 
                        style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div>
               
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3" >Company PAN Number<!--  <span style="color: red;">*</span> --></div>
                        <div class="col-md-9 input-group ">
                          <input type="text" class="form-control" id="pan_number" name="pan_number"  
                            value="{{ merchant_general_setting.m_pan_number }}" placeholder="Company PAN Number"
                            style="padding:3px; border: none;" pattern="^[a-zA-Z0-9]*$" />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              <div class="card">
                <div class="card-header" style="background-color: #00569d; border-radius: 18px;  border-bottom: 0.5px solid rgb(168, 166, 166); padding: 5px;">
                  <h4 class="card-title" style="padding-left: 10px; color: white;" ><b>Business Basic Details</b></h4>
                </div>
                <div class="card-body" style="padding-bottom: 0px; ">
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 233, 233);">
                      <div class="col-md-3">Business Name <span style="color: red;">*</span></div>
                      <div class="col-md-9 input-group ">
                        <input type="text"  class="form-control mobile" name="business_name" id="business_name"
                          placeholder="Company Name" value="{{ merchant_general_setting.m_business_name }}" maxlength="50" 
                          style="padding:3px; border: none;"
                          required />
                      </div>
                    </div>
                  </div>
                  
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 230, 230);">
                      <div class="col-md-3">Business Category<span style="color: red;"> *</span></div>
                      <div class="col-md-9 input-group ">
                        <select class="form-control" name="merchant_business_category" id="merchant_business_category"
                        style="margin-right: 50%; padding:3px; border: none;"
                          required>
                          <option value="">Select Business Category</option>
                          {% for business_category in merchnat_business_category|dictsort:"business_category_name.lower" %}
                          <option value="{{ business_category.id }}" 
                          {% if business_category.id == merchant_general_setting.m_business_category_id %} 
                          selected 
                          {% endif %}>{{ business_category.business_category_name }}</option>
                          {% endfor %}
                        </select>
                      </div>
                    </div>
                  </div>
                  
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Business Email <span style="color: red;">*</span></div>
                      <div class="col-md-9 input-group ">
                        <input type="email" class="form-control" id="company_email" name="company_email"
                          value="{{ merchant_general_setting.m_company_email }}" placeholder="Company Email" maxlength="25" 
                          style="padding:3px; border: none;" required pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" />
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Alternate Mobile Number<!--  <span style="color: red;">*</span> --></div>
                      <div class="col-md-9 input-group ">
                        <input type="tel" pattern="[0-9]+"  class="form-control" name="alternate_mobile_number"
                          id="alternate_mobile_number" placeholder="Alternate Mobile Number"
                          value="{{ merchant_general_setting.m_alternate_mobile_number }}" maxlength="10" 
                          style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div> 

                  <div class="form-group">
                        <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                        <div class="col-md-3">Website Url<span style="color: red;"> *</span></div>
                        <div class="col-md-9 input-group ">
                          <input type="tel" class="form-control" name="m_website_url"
                            id="m_website_url" placeholder="Website Url"
                            value="{{ merchant_general_setting.m_website_url }}" maxlength="70" 
                            style="padding:3px; border: none;"/>
                        </div>
                      </div>
                      </div>

                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Alternate Email</div>
                      <div class="col-md-9 input-group ">
                        <input type="email" class="form-control" id="alternate_email" name="alternate_email"
                          value="{{ merchant_general_setting.m_alternate_email }}" maxlength="25"  placeholder="Alternate Email" 
                          style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Address <span style="color: red;">*</span></div>
                      <div class="col-md-9 input-group ">
                        <input class="form-control" name="address" id="address"
                          placeholder="Address"
                          style="padding:3px; border: none;" value="{{ merchant_general_setting.m_address }}" maxlength="70" required/>
                      </div>
                    </div>
                  </div>
                  
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 230, 230);">
                      <div class="col-md-3">State<span style="color: red;"> *</span></div>
                      <div class="col-md-9 input-group ">
                        <select name="state" class="form-control" id="state"
                        style="margin-right: 50%; padding:3px; border: none;"
                          required>
                          <option disabled selected value>Select State </option>
                          {% for object in States %}
                          <option value="{{ object.state }}" 
                          {% if object.state == merchant_general_setting.m_state %} 
                          selected 
                          {% endif %}>{{ object.state }}</option>
                          {% endfor %}
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 230, 230);">
                      <div class="col-md-3">City<span style="color: red;"> *</span></div>
                      <div class="col-md-9 input-group ">
                        <select name="city" class="form-control" id="city"
                        style="margin-right: 50%; padding:3px; border: none;"
                          required aria-required="true">
                          <option disabled selected value>Select City</option>
                          <option value="{{ merchant_general_setting.m_city }}" 
                          selected>{{ merchant_general_setting.m_city }}</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">District <span style="color: red;">*</span></div>
                      <div class="col-md-9 input-group ">
                        <input type="text" class="form-control" name="district" id="district" placeholder="District"
                        value="{{ merchant_general_setting.m_district }}"
                        style="padding:3px; border: none;" required/>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                    <div class="col-md-3">Area <span style="color: red;">*</span></div>
                      <div class="col-md-9 input-group ">
                        <input class="form-control" name="area" id="area" placeholder="Area" rows="1"
                        style="padding:3px; border: none;" value="{{ merchant_general_setting.m_area }}"maxlength="50" required="" />
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Pin  Code <span style="color: red;">*</span></div>
                        <div class="col-md-9 input-group ">
                        <input type="tel" class="form-control" name="pin_code" id="pin_code" placeholder="Pin Code"
                          value="{{ merchant_general_setting.m_pin_code }}" maxlength="6"
                          style="padding:3px; border: none;" pattern="^[0-9]*\d{6}$" required="" />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card">
                <div class="card-header" style="background-color: #00569d; border-radius: 18px;  border-bottom: 0.5px solid rgb(168, 166, 166); padding: 5px;">
                  <h4 class="card-title" style="padding-left: 10px; color: white;"><b>Owner Details (Contact Person)</b></h4>
                </div>
                <div class="card-body" style="padding-bottom: 0px;">
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                    <div class="col-md-3">Mobile Number <span style="color: red;">*</span></div>
                      <div class="col-md-9 input-group ">
                        <input type="text" class="form-control" name="business_mobile_number" id="business_mobile_number" placeholder="Mobile Number" rows="1"
                        style="padding:3px; border: none;" value="{{ merchant_general_setting.m_user }}"maxlength="10" required="" readonly="" />
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                    <div class="col-md-3">First Name <span style="color: red;">*</span></div>
                      <div class="col-md-9 input-group ">
                        <input type="text" class="form-control" name="first_name" id="first_name" placeholder="First Name" rows="1"
                        style="padding:3px; border: none;" value="{{ merchant_objects_id.first_name }}"maxlength="50" required="" />
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                    <div class="col-md-3">Last Name <span style="color: red;">*</span></div>
                      <div class="col-md-9 input-group ">
                        <input type="text" class="form-control" name="last_name" id="last_name" placeholder="Last Name" rows="1"
                        style="padding:3px; border: none;" value="{{ merchant_objects_id.last_name }}"maxlength="50" required="" />
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Aadhaar Number</div>
                      <div class="col-md-9 input-group ">
                        <input type="tel" pattern="^[0-9]*\d{12}$" maxlength="12" class="form-control" maxlength="12"  name="aadhaar" id="aadhaar" placeholder="Aadhaar Number"
                          value="{{ merchant_general_setting.m_aadhaar_number }}" 
                          style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div>
                  
                </div>
              </div>
              
              <div class="card">
                <div class="card-header" style="background-color: #00569d; border-radius: 18px;  border-bottom: 0.5px solid rgb(168, 166, 166); padding: 5px;">
                  <h4 class="card-title" style="padding-left: 10px; color: white;"><b>Bank Details</b></h4>
                </div>
                <div class="card-body" style="padding-bottom: 0px;">
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Bank Account Number<!--  <span style="color: red;">*</span> --></div>
                      <div class="col-md-9 input-group ">
                        <input type="tel" pattern="[0-9]+" minlength="9" maxlength="18" class="form-control" name="bank_account_number" id="bank_account_number"
                          placeholder="Bank Account Number"
                          value="{{ merchant_general_setting.m_bank_account_number }}"
                          style="padding:3px; border: none;" />
                      </div>
                    </div>
                  </div>
                 
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Bank IFSC code<!--  <span style="color: red;">*</span> --></div>
                      <div class="col-md-9 input-group ">
                        <input type="text" pattern="^[a-zA-Z0-9]*$" class="form-control" name="bank_IFSC_code" id="bank_IFSC_code"
                          placeholder="Bank IFSC code" value="{{ merchant_general_setting.m_bank_IFSC_code }}"
                          style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div>
                 
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Bank Name<!--  <span style="color: red;">*</span> --></div>
                      <div class="col-md-9 input-group ">
                        <input type="text" class="form-control" name="bank_name" id="bank_name"
                          placeholder="Bank Name" value="{{ merchant_general_setting.m_bank_name }}" maxlength="20" 
                          style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div>
                  
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Bank Branch<!--  <span style="color: red;">*</span --></div>
                      <div class="col-md-9 input-group ">
                         <input type="text" class="form-control" name="bank_branch" id="bank_branch"
                         placeholder="Bank Branch" value="{{ merchant_general_setting.m_bank_branch }}" maxlength="20" 
                         style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Name of Legal Entity on Bank Account<!-- <span style="color: red;">*</span> --></div>
                      <div class="col-md-9 input-group ">
                         <input type="text" class="form-control" name="bank_account_entity_m1" id="bank_account_entity_m1"
                         placeholder="Name of Legal Entity on Bank Account" value="{{ merchant_general_setting.Entity_Account_m }}" maxlength="50" 
                         style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Address of Legal Entity on Bank Account<!-- <span style="color: red;">*</span> --></div>
                      <div class="col-md-9 input-group ">
                         <input type="text" class="form-control" name="bank_account_entity_adress2" id="bank_account_entity_adress2"
                         placeholder="Address of Legal Entity on Bank Account" value="{{ merchant_general_setting.Entity_Bank_Account_m }}" maxlength="50" 
                         style="padding:3px; border: none;"/>
                      </div>
                    </div>
                  </div>
                
                </div>
              </div>
              <div class="card">
                <div class="card-header" style="background-color: #00569d; border-radius: 18px;  border-bottom: 0.5px solid rgb(168, 166, 166); padding: 5px;">
                  <h4 class="card-title" style="padding-left: 10px; color: white;"><b>Business Documents</b></h4>
                </div>
                <div class="row">
                  <span style="color: red; padding-left: 8px;">*Note: To avail benefits of Payment Integration, Kindly download the Schedule C and fill it up and upload scanned copy along with Attested copy of Pan Card of Legal Entity and Signature proof of Authorized Signatory.”</span>
                </div>
                <!-- <div class="col-md-3"><button type="button" class="btn btn-primary"><a href="/download-merchant-schedule-file/" >Download Schedule<a></button></div> -->
                  <div class="form-group">
                   <div class="row">
                    <div class="col-md-3">
                    <input type="checkbox" name="is_available" id="is_available"> <label>Required Payment Integration</label>
                  </div>
                   </div>
                  </div>


                <a href="/download-merchant-schedule-file/" style="color: #495057;"><i class="fa fa-download" aria-hidden="true"><span style="font-weight: 600;font-family: Lato,sans-serif;"> Download Schedule</span></i></a>
                 
                  <div class="form-group"> 
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Cancelled Cheque</div>
                      <div class="col-md-3 input-group ">
                        <input type="file" class="form-control" name="cancelled_cheque_certificate" id="cancelled_cheque_certificate"  
                          placeholder="Cancelled Cheque Certificate" value="{{ merchant_general_setting.m_cancel_bank_cheque_photo }}" style="padding:3px; border: none;"/>
                        <input type="hidden" name="cancel_bank_cheque_photo" id="cancel_bank_cheque_photo" value="{{ merchant_general_setting.m_cancel_bank_cheque_photo }}">
                        
                        <div id="cancelled_cheque_certificateError"></div>
                      </div>
                      <div class="col-md-3" style="padding-bottom:10px;">
                        {% if merchant_general_setting.m_cancel_bank_cheque_photo %}
                          <img src="{{ merchant_general_setting.m_cancel_bank_cheque_photo.url }}"  class='img-upload-preview img-circle center' style="width:100px;height: 80px;" />
                        {% else %} <p style="text-align:center;">No File</p> {% endif %}
                      </div>
                      <div class="col-md-3" style="margin-top: 22px;">
                        {% if merchant_general_setting.m_cancel_bank_cheque_photo %}
                          <a href="{% if merchant_general_setting.m_cancel_bank_cheque_photo %}{{ merchant_general_setting.m_cancel_bank_cheque_photo.url }}{% endif %}" download style="color: #495057;"><i class="fa fa-download" aria-hidden="true"><span style="font-weight: 500;font-family: Lato,sans-serif;"> Download File</span></i></a>
                          {% endif %}
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                   <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                    <div class="col-md-3">GSTIN Certificate</div>
                    <div class="col-md-3 input-group ">
                      <input type="file" class="form-control" name="GSTIN_certificate" id="GSTIN_certificate" 
                        placeholder="GSTIN" value="{{ merchant_general_setting.m_GSTIN_certificate }}"   style="padding:3px; border: none;" />
                      <input type="hidden" name="gstin_certificate_file" id="gstin_certificate_file" value="{{ merchant_general_setting.m_GSTIN_certificate }}">
                    </div>
                    <div class="col-md-3" style="padding-bottom:10px;">
                      {% if merchant_general_setting.m_GSTIN_certificate %}
                          <img src="{{ merchant_general_setting.m_GSTIN_certificate.url }}"  class='img-upload-preview img-circle center' style="width:100px;height: 80px;" />
                      {% else %} <p style="text-align:center;">No File</p> {% endif %}
                      </div>
                      <div class="col-md-3" style="margin-top: 22px;">
                        {% if merchant_general_setting.m_GSTIN_certificate %}
                          <a href="{% if merchant_general_setting.m_GSTIN_certificate %}{{ merchant_general_setting.m_GSTIN_certificate.url }}{% endif %}" download style="color: #495057;"><i class="fa fa-download" aria-hidden="true"><span style="font-weight: 500;font-family: Lato,sans-serif;"> Download File</span></i></a>{% endif %}
                      </div>
                   </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">CIN Certificate</div>
                      <div class="col-md-3 input-group ">
                        <input type="file" class="form-control" name="CIN_certificate" id="CIN_certificate"
                          placeholder="CIN Certificate" value="{{ merchant_general_setting.m_CIN_certificate }}"  style="padding:3px; border: none;" />
                        <input type="hidden" name="cin_certificate_file" id="cin_certificate_file" value="{{ merchant_general_setting.m_CIN_certificate }}">
                      </div>
                      <div class="col-md-3" style="padding-bottom:10px;">
                        {% if merchant_general_setting.m_CIN_certificate %}
                          <img src="{{ merchant_general_setting.m_CIN_certificate.url }}"  class='img-upload-preview img-circle center' style="width:100px;height: 80px;" />
                          {% else %} <p style="text-align:center;">No File</p> {% endif %}
                      </div>
                      <div class="col-md-3" style="margin-top: 22px;">
                        {% if merchant_general_setting.m_CIN_certificate %}
                          <a href="{% if merchant_general_setting.m_CIN_certificate %}{{ merchant_general_setting.m_CIN_certificate.url }}{% endif %}" download style="color: #495057;"><i class="fa fa-download" aria-hidden="true"><span style="font-weight: 500;font-family: Lato,sans-serif;"> Download File</span></i></a>{% endif %}
                      </div>
                    </div>
                  </div>
                     
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Udyog Aadhaar Certificate</div>
                      <div class="col-md-3 input-group ">
                        <input type="file" class="form-control" name="udyog_adhar_certificate" id="udyog_adhar_certificate" 
                          placeholder="udyog adhar Certificate" value="{{ merchant_general_setting.m_other_document_certificate1 }}"  style="padding:3px; border: none;" />
                        <input type="hidden" name="udyog_adhar_certificate_file" id="udyog_adhar_certificate_file" value="{{ merchant_general_setting.m_other_document_certificate1 }}">
                      </div>
                      <div class="col-md-3" style="padding-bottom:10px;">
                        {% if merchant_general_setting.m_other_document_certificate1 %}
                          <img src="{{ merchant_general_setting.m_other_document_certificate1.url }}"  class='img-upload-preview img-circle center' style="width:100px;height: 80px;" />
                          {% else %} <p style="text-align:center;">No File</p> {% endif %}
                      </div>
                      <div class="col-md-3" style="margin-top: 22px;">
                        {% if merchant_general_setting.m_other_document_certificate1 %}
                          <a href="{% if merchant_general_setting.m_other_document_certificate1 %}{{ merchant_general_setting.m_other_document_certificate1.url }}{% endif %}" download style="color: #495057;"><i class="fa fa-download" aria-hidden="true"><span style="font-weight: 500;font-family: Lato,sans-serif;"> Download File</span></i></a>{% endif %}
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Address Proof</div>
                      <div class="col-md-3 input-group ">
                        <input type="file" class="form-control" name="address_proof" id="address_proof"
                            placeholder="Address Proof" value="{{ merchant_general_setting.address_proof }}"  style="padding:3px; border: none;" />
                          <input type="hidden" name="address_proof_file" id="address_proof_file" value="{{ merchant_general_setting.address_proof }}">
                      </div>
                      <div class="col-md-3" style="padding-bottom:10px;">
                        {% if merchant_general_setting.address_proof %}
                          <img src="{{ merchant_general_setting.address_proof.url }}"  class='img-upload-preview img-circle center' style="width:100px;height: 80px;" />
                          {% else %} <p style="text-align:center;">No File</p> {% endif %}
                      </div>
                      <div class="col-md-3" style="margin-top: 22px;">
                        {% if merchant_general_setting.address_proof %}
                          <a href="{% if merchant_general_setting.address_proof %}{{ merchant_general_setting.address_proof.url }}{% endif %}" download style="color: #495057;"><i class="fa fa-download" aria-hidden="true"><span style="font-weight: 500;font-family: Lato,sans-serif;"> Download File</span></i></a>{% endif %}
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Attested copy of Pan Card of Legal Entity </div>
                      <div class="col-md-3 input-group ">
                        <input type="file" class="form-control" name="m_address_bank_account" id="m_address_bank_account"
                            placeholder="Address Proof" value="{{ merchant_general_setting.m_address_bank_account }}"  style="padding:3px; border: none;" />
                          <input type="hidden" name="m_address_bank_account_file" id="m_address_bank_account_file" value="{{ merchant_general_setting.m_address_bank_account }}">
                      </div>
                      <div class="col-md-3" style="padding-bottom:10px;">
                        {% if merchant_general_setting.m_address_bank_account %}
                          <img src="{{ merchant_general_setting.m_address_bank_account.url }}"  class='img-upload-preview img-circle center' style="width:100px;height: 80px;" />
                          {% else %} <p style="text-align:center;">No File</p> {% endif %}
                      </div>
                      <div class="col-md-3" style="margin-top: 22px;">
                        {% if merchant_general_setting.m_address_bank_account %}
                          <a href="{% if merchant_general_setting.m_address_bank_account %}{{ merchant_general_setting.m_address_bank_account.url }}{% endif %}" download style="color: #495057;"><i class="fa fa-download" aria-hidden="true"><span style="font-weight: 500;font-family: Lato,sans-serif;"> Download File</span></i></a>{% endif %}
                      </div>
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">Signature proof of Authorized Signatory </div>
                      <div class="col-md-3 input-group ">
                        <input type="file" class="form-control" name="m_bank_account_entry" id="m_bank_account_entry"
                            placeholder="Address Proof" value="{{ merchant_general_setting.m_bank_account_entry }}"  style="padding:3px; border: none;" />
                          <input type="hidden" name="m_bank_account_entry_file" id="m_bank_account_entry_file" value="{{ merchant_general_setting.m_bank_account_entry }}">
                      </div>
                      <div class="col-md-3" style="padding-bottom:10px;">
                        {% if merchant_general_setting.m_bank_account_entry %}
                          <img src="{{ merchant_general_setting.m_bank_account_entry.url }}"  class='img-upload-preview img-circle center' style="width:100px;height: 80px;" />
                          {% else %} <p style="text-align:center;">No File</p> {% endif %}
                      </div>
                      <div class="col-md-3" style="margin-top: 22px;">
                        {% if merchant_general_setting.m_bank_account_entry %}
                          <a href="{% if merchant_general_setting.m_bank_account_entry %}{{ merchant_general_setting.m_bank_account_entry.url }}{% endif %}" download style="color: #495057;"><i class="fa fa-download" aria-hidden="true"><span style="font-weight: 500;font-family: Lato,sans-serif;"> Download File</span></i></a>{% endif %}
                      </div>
                    </div>
                  </div>
                  <div class="form-group" id="is_payu_available">
                    <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                      <div class="col-md-3">PayU Schedule Upload <span style="color: red;">*</span></div>
                      <div class="col-md-3 input-group ">
                        <input type="file" class="form-control" name="schedule_pdf_upload" id="schedule_pdf_upload"
                            placeholder="PayU Schedule Upload " value="{{ merchant_general_setting.schedule_pdf_upload }}"  style="padding:3px; border: none;" required="" />
                          <input type="hidden" name="schedule_pdf_upload_file" id="schedule_pdf_upload_file" value="{{ merchant_general_setting.schedule_pdf_upload }}">
                      </div>
                      <div class="col-md-3" style="padding-bottom:10px;">
                        {% if merchant_general_setting.schedule_pdf_upload %}
                          <img src="{{ merchant_general_setting.schedule_pdf_upload.url }}"  class='img-upload-preview img-circle center' style="width:100px;height: 80px;" />
                          {% else %} <p style="text-align:center;">No File</p> {% endif %}
                      </div>
                      <div class="col-md-3" style="margin-top: 22px;">
                        {% if merchant_general_setting.schedule_pdf_upload %}
                          <a href="{% if merchant_general_setting.schedule_pdf_upload %}{{ merchant_general_setting.schedule_pdf_upload.url }}{% endif %}" download style="color: #495057;"><i class="fa fa-download" aria-hidden="true"><span style="font-weight: 500;font-family: Lato,sans-serif;"> Download File</span></i></a>{% endif %}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="text-center mt-3 ">
                    <button type="submit" class="btn btn-primary">Update</button>
                </div>
                <br>
              <div class="card">
                <div class="card-header" style="background-color: #00569d; border-radius: 18px;  border-bottom: 0.5px solid rgb(168, 166, 166); padding: 5px;">
                  <h4 class="card-title" style="padding-left: 10px; color: white;"><b>Uploads</b></h4>
                </div>
                <div class="card-body" style="padding-bottom: 0px;">
                  <div class="row" style="border-bottom: 0.5px solid rgb(235, 234, 234);">
                    <div class="col-md-4">
                      <div class="form-group">
                        <label class="text-center" style="display: block;">Business Logo</label>
                        <div class="input-file input-file-image">
                          {% if merchant_general_setting.m_business_logo %}
                          <img class="img-upload-preview img-circle center" width="100" height="100"
                            src="{{ merchant_general_setting.m_business_logo.url }}" alt="preview" />
                          {% else %}
                          <img class="img-upload-preview img-circle center" width="100" height="100"
                            src="/static/assets/img/Business-logo.png" alt="preview" />
                          {% endif %}

                          <input type="file" class="form-control form-control-file center" id="uploadImg2"
                          name="business_logo" accept="image/*" value="">
                          {% if merchant_general_setting.m_business_logo %}
                          <div class="row">
                            <div class="col-md-6">
                              <label class="uploadlogo center btn btn-primary btn-round btn-sm text-center"
                              data-id="{{ merchant_general_setting.id }}">
                                <i class="fas fa-image" style="color: white;"></i><span style="color: white;"> &nbsp Select</span></label>
                            </div>
                            <div class="col-md-6">
                              <a href="{% url 'merchant-business-logo-remove' %}">
                                <label class="center btn btn-primary btn-round btn-sm text-center">
                                  <i class="fa fa-trash" style="color: white;"></i><span style="color: white;">&nbsp Remove</span>
                                </label>
                              </a>
                            </div>
                          </div>
                          {% else %}
                            <label class="uploadlogo center btn btn-primary btn-round btn-md text-center" data-id="{{ merchant_general_setting.id }}" style=" display:inherit; margin-left: auto;
                                            margin-right: auto; ">
                              <i class="fas fa-image"></i> Select Business Logo</label>    
                          {% endif %}
                          <p class="text-center center" style="color: #63b90b;"><b>Logo should be less than 500 KB</b></p>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="form-group">
                        <label class="text-center" style="display: block;">Authorised Signature</label>
                        <div class="input-file input-file-image">
                          {% if merchant_general_setting.m_digital_signature %}
                          <img class="img-upload-preview img-circle center" width="100" height="100"
                            src="{{ merchant_general_setting.m_digital_signature.url }}" alt="preview" />
                          {% else %}
                          <img class="img-upload-preview img-circle center" width="100" height="100"
                            src="/static/assets/img/Digital-Signature.png" alt="preview" />
                          {% endif %}

                          <input type="file" class="form-control form-control-file center" id="uploadImg4"
                          name="digital_signature" accept="image/*" value="">

                          {% if merchant_general_setting.m_digital_signature %}
                          <div class="row">
                            <div class="col-md-6">
                              <label class="uploadsignature center btn btn-primary btn-round btn-sm text-center"
                              data-id="{{ merchant_general_setting.id }}">
                                <i class="fas fa-image" style="color: white;"></i><span style="color: white;">&nbsp  Select</span></label>
                            </div>
                            <div class="col-md-6">
                              <a href="{% url 'merchant-digital-signature-remove' %}">
                                <label class="center btn btn-primary btn-round btn-sm text-center">
                                  <i class="fa fa-trash" style="color: white;"></i><span style="color: white;">&nbsp  Remove</span>
                                </label>
                              </a>
                            
                            </div>
                          </div>
                          {% else %}
                            <label class="uploadsignature center btn btn-primary btn-round btn-md text-center" data-id="{{ merchant_general_setting.id }}" style=" display:inherit; margin-left: auto;
                                            margin-right: auto; ">
                              <i class="fas fa-image"></i> Select  Authorised Signature</label>
                          
                          {% endif %}
                          <p class="text-center center" style="color: #63b90b;"><b>Signature should be less than 500 KB</b></p>
                        </div>
                      </div>
                    </div>
             
                    <div class="row">   
                      {% for status in latest_stamp_record %}
                      {% if status.selection_design == "oval" %}
                      <div class="col-md-4">
                          <div class="stamp5">
                                  <div class=""  >
                                      <div class="row">
                                          <div class="card-body " style="margin:auto; box-shadow: none;">
                                      
                                              <div class="container10" style="margin: 25px;
                                              width: 100%;
                                              height: 100%;">
                                                  <span class="oval-green" style="margin:auto;color: #0A9928;
                                                  border: 0.5rem double #0A9928;
                                                  border-radius: 50%;
                                                  font-size: 2.7rem;
                                                  padding: 20px;">{{status.stamp_content}}</span>
                                              </div>
                                              <input type="hidden" value="{{status.id}}" name="content" id="status_id"> 
                                              <div style="margin-left: 60px;">
                                              {% if design == 'oval_green' %}
                                              <label>Select : <INPUT type="radio" name="stamp_color" value="oval_green" checked></label>
                                              {% else %}
                                              <label>Select : <INPUT type="radio" name="stamp_color" value="oval_green"></label>
                                              {% endif %}

                                              </div>
                                          
                                          </div>
                                      </div>
                                      <!-- <input type="radio" name="chk"/> -->
                                  </div>

                              </div>

                          </div>

                          <div class="col-md-4">
                              <div class="stamp9">
                                      <div class="" >
                                          <div class="row">
                                              <div class="card-body " style="margin:auto; box-shadow: none;">
                                          <div class="modal-content">
                                              
                                                  <div class="container11" style="margin: 25px;
                                                  width: 100%; 
                                                  height: 100%;">
                                                  <span class="oval-red" style="margin:auto;color: #D23;
                                                  border: 0.5rem double #D23;
                                                  border-radius: 50%;
                                                  font-size: 2.7rem;  
                                                  padding: 20px;">{{status.stamp_content}}</span>
                                                  </div>
                                                  <input type="hidden" value="{{status.id}}" name="content" id="status_id">
                                                  <div style="margin:auto;">
                                                  {% if design == 'oval_red' %}
                                                  <label>Select : <INPUT type="radio" name="stamp_color" value="oval_red" checked></label>
                                                  {% else %}
                                                  <label>Select : <INPUT type="radio" name="stamp_color" value="oval_red"></label>
                                                  {% endif %}
                                                  </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="col-md-4">
                          <div class="stamp6">
                                  <div class="" >
                                      <div class="row">
                                          <div class="card-body " style="margin:auto; box-shadow: none;">
                                      <div class="modal-content">
                                          
                                              <div class="container12" style="margin: 25px;
                                              margin: 25px;
                                              width: 100%;">
                                                  <span class="oval-blue" style="margin:auto; color: #0000FF;
                                                  border: 0.5rem double #0000FF;
                                                  border-radius: 50%;
                                                  font-size: 2.7rem;
                                                  padding: 20px;">{{status.stamp_content}}</span>  
                                              </div>
                                              <input type="hidden" value="{{status.id}}" name="content" id="status_id">
                                              <div style="margin:auto;">
                                              {% if design == 'oval_blue' %}
                                              <label>Select : <INPUT type="radio" name="stamp_color" value="oval_blue" checked></label>
                                              {% else %}
                                              <label>Select : <INPUT type="radio" name="stamp_color" value="oval_blue"></label>
                                              {% endif %}
                                              </div>
                                          
                                      </div>
                                 </div>
                          </div>
                      </div>
                  </div>
              </div>
                  {% endif %}

                          {% if status.selection_design == "circle" %}
                              <div class="col-md-4">
                                  <div class="stamp5">
                                      <div class="">
                                          <div class="row">
                                              <div class="card-body " style="margin:auto; box-shadow: none;  ">
                                                  <div class="container7" style="margin: 25px;
                                                  width: 100%;
                                                  height: 100%;">
                                                      <div class="circle-green" style=" color: #0A9928;
                                                      border: 0.5rem double #0A9928;
                                                      border-radius: 50%;
                                                      font-size: 1.5rem;
                                                      padding: 5px;  width: 150px;height: 150px;font-size: 1.4rem;padding-top: 25%;text-align: center;">{{status.stamp_content}}</div>
                                                  </div>
                                                  <div style="margin-left: 60px;">
                                                      {% if design == 'circle_green' %}
                                                      <label>Select : <INPUT type="radio" name="stamp_color"  value="circle_green" checked></label>
                                                      {% else %}
                                                      <label>Select : <INPUT type="radio" name="stamp_color"  value="circle_green"></label>
                                                      {% endif %}
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
  
                              <div class="col-md-4">
                                  <div class="stamp6">
                                      <div class="">
                                          <div class="row">
                                              <div class="card-body" style="margin:auto;  box-shadow: none; ">
                                                  <div class="modal-content">
                                                      <div class="container8" style="margin: 25px;
                                                      width: 100%;">
                                                          <div class="circle-blue" style=" color: #0000FF;
                                                          border: 0.5rem double #0000FF;
                                                          border-radius: 50%;
                                                          font-size: 1.5rem;
                                                          padding: 5px; width: 150px;height: 150px;font-size: 1.4rem;padding-top: 25%;text-align: center;">{{status.stamp_content}}</div>
                                                      </div>
                                                      <div style="margin:auto;">
                                                        {% if design == 'circle_blue' %}
                                                          <label>Select : <INPUT type="radio" value="circle_blue" name="stamp_color" checked></label>
                                                          {% else %}
                                                          <label>Select : <INPUT type="radio" value="circle_blue" name="stamp_color"></label>
                                                          {% endif %}
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
  
                              <div class="col-md-4">
                                      <div class="stamp9">
                                              <div class="" >
                                                  <div class="row">
                                                      <div class="card-body " style="margin:auto; box-shadow: none;  ">
                                                  <div class="modal-content">
                                                          <div class="container6" style="margin: 25px;
                                                          width: 100%; 
                                                            height: 100%;">
                                                          <div class="circle-red" style=" color: #D23;
                                                          border: 0.5rem double #D23;
                                                          border-radius: 50%;
                                                          font-size: 1.5rem;  
                                                          padding: 5px; width: 150px;height: 150px;font-size:1.4rem;padding-top: 25%;text-align: center;">{{status.stamp_content}}</div>
                                                          </div>
                                                          <div style="margin:auto;">
                                                            {% if design == 'circle_red' %}
                                                          <label>Select : <INPUT type="radio" name="stamp_color" value="circle_red" checked></label>
                                                          {% else %}
                                                          <label>Select : <INPUT type="radio" name="stamp_color" value="circle_red"></label>
                                                          {% endif %}
                                                          </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          {% endif %}
                  
                          {% if status.selection_design == "Rectangle" %}
                              <div class="col-md-4">
                                  <div class="stamp10">
                                      <div class="" >
                                          <div class="row">
                                              <div class="card-body " style="margin:auto; box-shadow: none;  ">
                                                  <div class="modal-content">
                                                      <div class="container3" style="margin: 25px;
                                                      width: 100%;">
                                                          <span class="rect-green" style="margin:auto; color: #0A9928;
                                                          border: 1rem double #0A9928;  
                                                          font-size: 2.7rem;
                                                          font-family: Open sans, Helvetica, Arial, sans-serif;
                                                          border-radius: 0;
                                                          padding: 0.5rem;">{{status.stamp_content}}</span>
                                                      </div>
                                                      <div style="margin-left: 60px;">
                                                          {% if design == 'rect_green' %}
                                                          <label>Select : <INPUT type="radio" name="stamp_color" value="rect_green" checked></label>
                                                          {% else %}
                                                          <label>Select : <INPUT type="radio" name="stamp_color" value="rect_green"></label>
                                                          {% endif %}
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
  
                              <div class="col-md-4">
                                  <div class="stamp11">
                                      <div class="" >
                                          <div class="row">
                                              <div class="card-body " style="margin:auto;  box-shadow: none; ">
                                                  <div class="modal-content">
                                                      <div class="container4" style="margin: 25px;
                                                      width: 100%;">
                                                          <span class="rect-blue" style="margin:auto; color: #0000FF;
                                                          border: 1rem double #0000FF;  
                                                          font-size: 2.7rem;
                                                          font-family: Open sans, Helvetica, Arial, sans-serif;
                                                          border-radius: 0;
                                                          padding: 0.5rem; ">{{status.stamp_content}}</span>
                                                      </div>
                                                      <div style="margin:auto;">
                                                          {% if design == 'rect_blue' %}
                                                          <label>Select : <INPUT type="radio"  value="rect_blue" name="stamp_color" checked></label>
                                                          {% else %}
                                                          <label>Select : <INPUT type="radio"  value="rect_blue" name="stamp_color" checked></label>
                                                          {% endif %}
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
  
                              <div class="col-md-4">
                                  <div class="stamp13">
                                      <div class="" >
                                          <div class="row">
                                              <div class="card-body " style="margin:auto;  box-shadow: none;  ">
                                                  <div class="modal-content">
                                                      <div class="container2" style="margin: 25px;
                                                      width: 100%;">
                                                          <span class="rect-red" style="margin:auto;color: #D23;
                                                          border: 1rem double #D23;  
                                                          font-size: 2.7rem;
                                                          font-family: Open sans, Helvetica, Arial, sans-serif;
                                                          border-radius: 0;
                                                          padding: 0.5rem; ">{{status.stamp_content}}</span>
                                                      </div>
                                                      <div style="margin:auto;">
                                                        {% if design == 'rect_red' %}
                                                          <label>Select : <INPUT type="radio" name="stamp_color" value="rect_red" checked></label>
                                                          {% else %}
                                                          <label>Select : <INPUT type="radio" name="stamp_color" value="rect_red" ></label>
                                                          {% endif %}
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>   
                          {% endif %}
                      {% endfor %}
                  </div> 

                  </div>
                </div>
                  </div>
                  
                </form>
            </div>
          
          </div>
          </div>  
          </div>
          </div>
          </div>
        </div>
        </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Cropping signature modal -->
<div class="container" id="crop-avatar">

  <div class="modal fade" id="avatar-modal" aria-hidden="false" aria-labelledby="avatar-modal-label" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <form class="avatar-form" action="/merchant-cropped-signature-upload/" enctype="multipart/form-data"
          method="post">
          {% csrf_token %}
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="avatar-body">

              <!-- Upload image and data -->
              <div class="avatar-upload text-center">
                <input type="hidden" class="avatar-src" name="avatar_src">
                <input type="hidden" class="avatar-data" name="avatar_data">
                <input type="file" name="merchantsignaturefile" id="" class="avatar-input">
                <input type="hidden" name="merchant_setting_signature_modal_id" id="merchant_setting_signature_modal_id"
                  value="">
          
              </div>

              <!-- Crop and preview -->
              <div class="row">
                <div class="col-md-12">
                  <div class="avatar-wrapper"></div>
                </div>
              </div>

              <div class="row avatar-btns">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                  <button type="submit" class="btn btn-primary btn-block avatar-save">Done</button>
                </div>
              </div>
            </div>
          </div>
      </div>
      <!-- <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div> -->
      </form>
    </div>
  </div>
</div>

<!-- Loading state -->
<div class="loading" aria-label="Loading" role="img" tabindex="-1"></div>
</div>

<!-- end signature modal -->
<!-- uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu -->


<div class="container" id="crop-avatar">

  <div class="modal fade" id="avatar-modal" aria-hidden="false" aria-labelledby="avatar-modal-label" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <form class="avatar-form" action="/merchant-authorised-signature-upload/" enctype="multipart/form-data"
          method="post">
          {% csrf_token %}
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>
          <div class="modal-body">
            <div class="avatar-body">

              <!-- Upload image and data -->
              <div class="avatar-upload text-center">
                <input type="hidden" class="avatar-src" name="avatar_src">
                <input type="hidden" class="avatar-data" name="avatar_data">
                <input type="file" name="merchantauthorsignaturefile" id="" class="avatar-input">
                <input type="hidden" name="merchant_authorised_signature_modal_id" id="merchant_authorised_signature_modal_id"
                  value="">
          
              </div>

              <!-- Crop and preview -->
              <div class="row">
                <div class="col-md-12">
                  <div class="avatar-wrapper"></div>
                </div>
              </div>

              <div class="row avatar-btns">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                  <button type="submit" class="btn btn-primary btn-block avatar-save">Done</button>
                </div>
              </div>
            </div>
          </div>
      </div>
      <!-- <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div> -->
      </form>
    </div>
  </div>
</div>

<!-- Loading state -->
<div class="loading" aria-label="Loading" role="img" tabindex="-1"></div>
</div>




<!-- Cropping Stamp modal -->
<div class="container" id="crop-avatar-stamp">

  <div class="modal fade" id="avatar-stamp-modal" aria-hidden="false" aria-labelledby="avatar-modal-label"
    role="dialog">
    <div class="modal-dialog ">
      <div class="modal-content">
        <form class="avatar-form" action="/merchant-authorised-signature-upload/" enctype="multipart/form-data" method="post"
          id="avatar-form-stamp-id">
          {% csrf_token %}
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>

          </div>
          <div class="modal-body">
            <div class="avatar-body">

              <!-- Upload image and data -->
              <div class="avatar-upload" id="avatar-upload-stamp-id">
                <input type="hidden" class="avatar-src" name="avatar_src">
                <input type="hidden" class="avatar-data" name="avatar_data">
                <input type="file" name="merchantstampfile" id="stamp-id" class="avatar-input">
                <input type="hidden" name="merchant_setting_stamp_modal_id" id="merchant_setting_stamp_modal_id"
                  value="">
                  <input type="hidden" name="merchant_authorised_signature_modal_id" id="merchant_authorised_signature_modal_id" value="">
                  
              </div>

              <!-- Crop and preview -->
              <div class="row">
                <div class="col-md-12">
                  <div class="avatar-wrapper" ></div>
                </div>
              </div>

              <div class="row avatar-btns">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                  <button type="submit" class="btn btn-primary btn-block avatar-save">Done</button>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div> -->
        </form>
      </div>
    </div>
  </div>

  <!-- Loading state -->
  <div class="loading" aria-label="Loading" role="img1" tabindex="-1" id="loading-stamp-id"></div>
</div>

<!-- end stamp modal -->



<!-- Cropping logo modal -->
<div class="container" id="crop-avatar-logo">

  <div class="modal fade" id="avatar-logo-modal" aria-hidden="false" aria-labelledby="avatar-modal-label" role="dialog">
    <div class="modal-dialog ">
      <div class="modal-content">
        <form class="avatar-form" action="/merchant-cropped-logo-upload/" enctype="multipart/form-data" method="post"
          id="avatar-form-stamp-id">
          {% csrf_token %}
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>

          </div>
          <div class="modal-body">
            <div class="avatar-body">

              <!-- Upload image and data -->
              <div class="avatar-upload" id="avatar-upload-stamp-id">
                <input type="hidden" class="avatar-src" name="avatar_src">
                <input type="hidden" class="avatar-data" name="avatar_data">
                <input type="file" name="merchantlogofile" id="stamp-id" class="avatar-input">
                <input type="hidden" name="merchant_setting_modal_id" id="merchant_setting_modal_id" value="">

              </div>

              <!-- Crop and preview -->
              <div class="row">
                <div class="col-md-12">
                  <div class="avatar-wrapper" id="avatar-wrapper-stamp-id"></div>
                </div>
              </div>

              <div class="row avatar-btns">
                <div class="col-md-4"></div>
                <div class="col-md-4">
                  <button type="submit" class="btn btn-primary btn-block avatar-save">Done</button>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div> -->
        </form>
      </div>
    </div>
  </div>

  <!-- Loading state -->
  <div class="loading" aria-label="Loading" role="img1" tabindex="-1" id="loading-stamp-id"></div>
</div>


<!-- SCRIPTS -->

<script src="{% static 'assets/js/jquery.min.js' %}"></script>
<script src="{% static 'assets/js/bootstrap.min.js' %}"></script>
<script src="{% static 'assets/js/cropper.min.js' %}"></script>
<script src="{% static 'assets/js/main.js' %}"></script>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/7.29.2/sweetalert2.all.js"></script>
<script type="text/javascript">
  $(document).ready(function () {

        $("#state").on('change', function()
        {

            var state = $("#state").val()

            $.ajax({
                type: "POST",
                url: "/get-user-city-by-state/",
                data: {
                    csrfmiddlewaretoken: document.getElementsByName('csrfmiddlewaretoken')[0].value,
                    'state': state
                },
                success: function(result){
                    $("#city").empty();
                    var empty = ""
                    $('#city').append("<option value='" + empty + "' disabled selected value>" + "Select City *" + "</option>");
                    $.each(result.data, function (key, value) {
                        $('#city').append("<option value='" + value + "'>" + value + "</option>");
                    });
                }
            });

        })
    })
</script>
<script type="text/javascript">
  $('#is_available').click(function() {
    if($(this).is(':checked'))
        
      document.getElementById("is_payu_available").style.display = 'block';
    else
        document.getElementById("is_payu_available").style.display = 'none';
});


  $.validator.addMethod('dimention', function(value, element, param) {
    if(element.files.length == 0){
        return true; 
    }
    var width = $(element).data('imageWidth');
    var height = $(element).data('imageHeight');
    if(width == param[0] && height == param[1]){
        return true;
    }else{
        return false;
    }
},'Image must be 1080 x 1080 pixels dimension');

  $.validator.addMethod('filesize', function (value, element, param) {
    return this.optional(element) || (element.files[0].size <= param)
  }, 'File size must be less than 500 Kb');

$('#schedule_pdf_upload').change(function() {
    $('#schedule_pdf_upload').removeData('imageWidth');
    $('#schedule_pdf_upload').removeData('imageHeight');
    var file = this.files[0];
    var tmpImg = new Image();
    tmpImg.src=window.URL.createObjectURL( file ); 
    tmpImg.onload = function() {
        width = tmpImg.naturalWidth,
        height = tmpImg.naturalHeight;
        $('#schedule_pdf_upload').data('imageWidth', width);
        $('#schedule_pdf_upload').data('imageHeight', height);
    }
});


$.validator.addMethod("lettersonly", function(value, element) 
    {
    return this.optional(element) || /^[a-z ]+$/i.test(value);
    }, "Letters and spaces only please");

  $.validator.addMethod("pan", function(value, element)
    {
        return this.optional(element) || /^[A-Z]{5}\d{4}[A-Z]{1}$/.test(value);
    }, "Invalid Pan Number");

    $.validator.addMethod("indian_gstin", function (value, element) {
    if (/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(value) || this.optional(element)) {
      return true;   // PASS validation when REGEX matches
    } else {
      return false;  // FAIL validation
    };
  }, "Please enter valid GSTIN number.");

    $.validator.addMethod("indian_cins", function (value, element) {
    if (/^([L|U]{1})([0-9]{5})([A-Za-z]{2})([0-9]{4})([A-Za-z]{3})([0-9]{6})$/.test(value) || this.optional(element)) {
      return true;   // PASS validation when REGEX matches
    } else {
      return false;  // FAIL validation
    };
  }, "Please enter valid CIN number.");

    jQuery.validator.addMethod("mobile_number", function (value, element) {
            if (/^[6-9][0-9]{9}$/.test(value)) {
                return true;   // PASS validation when REGEX matches
            } else {
                return false;  // FAIL validation
            };
        }, "Please enter valid Mobile Number");


      $.validator.addMethod("bank_ifsc", function (value, element) {
    if (/^[A-Z]{4}0[A-Z0-9]{6}$/.test(value) || this.optional(element)) {
      return true;   // PASS validation when REGEX matches
    } else {
      return false;  // FAIL validation
    };
  }, "Please enter valid IFSC Code.");

      $.validator.addMethod("UrlVal", function (value, element) {

            var Inicio_URL = ['http://www', 'https://www', 'www', 'ftp://www'];
            var Fim_URL = ['com', 'net', 'org', 'pt', 'eu','co'];

            var Url_Inserido = value.toLowerCase().split(".");

            if (Inicio_URL.includes(Url_Inserido[0])) {

                if (Fim_URL.includes(Url_Inserido[(Url_Inserido.length - 1)])) {
                    return true;
                } else
                    return false;

            } else
                return false;

        
        })


  $("#merchant_form").validate({
    rules: {
      business_name: {
        required: true,
        maxlength: 50,
      },
      company_email: {
        required: true,
        email: true,
        maxlength: 40,
      },
      alternate_mobile_number: {        
        digits: true,
        minlength: 10,
        maxlength: 10,

      },
      m_billing_phone: {
        digits: true,
        minlength: 10,
        maxlength: 10,
      },
      first_name: {
        lettersonly: true,
      },
      last_name: {
        lettersonly: true,
      },
      alternate_email: {
        email: true,
        maxlength: 50,
      },
      city: {
        maxlength: 40,
      },
      area: {
        lettersonly: true,
        maxlength: 50,
      },
      district: {
        lettersonly: true,
        maxlength: 40,
      },
      pin_code: {        
        number: true,
        minlength: 6,
        maxlength: 6,
      },
      pan_number: {
        pan: true,
        
      },
      aadhaar: {
        number: true,
        minlength: 12,
        maxlength: 20,
      },
      GSTIN_certificate: {
        indian_gstin: true,
      },
      CIN_certificate: {
        indian_cins: true,
      },
      bank_account_number: {
        maxlength: 30,
      },
      bank_IFSC_code: {
        bank_ifsc: true,
      },
      schedule_pdf_upload: {
        filesize: 500000,
        dimention:[1080,1080]
      },
      m_bank_account_entry: {
        filesize: 500000,
        dimention:[1080,1080]
      },
      m_address_bank_account: {
        filesize: 500000,
        dimention:[1080,1080]
      },
      address_proof: {
        filesize: 500000,
        dimention:[1080,1080]
      },
      udyog_adhar_certificate: {
        filesize: 500000,
        dimention:[1080,1080]
      },
      CIN_certificate: {
        filesize: 500000,
        dimention:[1080,1080]
      },
      GSTIN_certificate: {
        filesize: 500000,
        dimention:[1080,1080]
      },
      cancelled_cheque_certificate: {
        filesize: 500000,
        dimention:[1080,1080]
      },
    },
    messages: {
      schedule_pdf_upload: {
        
      },
    },
  });

  $('#m_bank_account_entry').change(function() {
    $('#m_bank_account_entry').removeData('imageWidth');
    $('#m_bank_account_entry').removeData('imageHeight');
    var file = this.files[0];
    var tmpImg = new Image();
    tmpImg.src=window.URL.createObjectURL( file ); 
    tmpImg.onload = function() {
        width = tmpImg.naturalWidth,
        height = tmpImg.naturalHeight;
        $('#m_bank_account_entry').data('imageWidth', width);
        $('#m_bank_account_entry').data('imageHeight', height);
    }
});
  $('#cancelled_cheque_certificate').change(function() {
    $('#cancelled_cheque_certificate').removeData('imageWidth');
    $('#cancelled_cheque_certificate').removeData('imageHeight');
    var file = this.files[0];
    var tmpImg = new Image();
    tmpImg.src=window.URL.createObjectURL( file ); 
    tmpImg.onload = function() {
        width = tmpImg.naturalWidth,
        height = tmpImg.naturalHeight;
        $('#cancelled_cheque_certificate').data('imageWidth', width);
        $('#cancelled_cheque_certificate').data('imageHeight', height);
    }
});
  $('#GSTIN_certificate').change(function() {
    $('#GSTIN_certificate').removeData('imageWidth');
    $('#GSTIN_certificate').removeData('imageHeight');
    var file = this.files[0];
    var tmpImg = new Image();
    tmpImg.src=window.URL.createObjectURL( file ); 
    tmpImg.onload = function() {
        width = tmpImg.naturalWidth,
        height = tmpImg.naturalHeight;
        $('#GSTIN_certificate').data('imageWidth', width);
        $('#GSTIN_certificate').data('imageHeight', height);
    }
});
  $('#CIN_certificate').change(function() {
    $('#CIN_certificate').removeData('imageWidth');
    $('#CIN_certificate').removeData('imageHeight');
    var file = this.files[0];
    var tmpImg = new Image();
    tmpImg.src=window.URL.createObjectURL( file ); 
    tmpImg.onload = function() {
        width = tmpImg.naturalWidth,
        height = tmpImg.naturalHeight;
        $('#CIN_certificate').data('imageWidth', width);
        $('#CIN_certificate').data('imageHeight', height);
    }
});

  $('#udyog_adhar_certificate').change(function() {
    $('#udyog_adhar_certificate').removeData('imageWidth');
    $('#udyog_adhar_certificate').removeData('imageHeight');
    var file = this.files[0];
    var tmpImg = new Image();
    tmpImg.src=window.URL.createObjectURL( file ); 
    tmpImg.onload = function() {
        width = tmpImg.naturalWidth,
        height = tmpImg.naturalHeight;
        $('#udyog_adhar_certificate').data('imageWidth', width);
        $('#udyog_adhar_certificate').data('imageHeight', height);
    }
});

  $('#address_proof').change(function() {
    $('#address_proof').removeData('imageWidth');
    $('#address_proof').removeData('imageHeight');
    var file = this.files[0];
    var tmpImg = new Image();
    tmpImg.src=window.URL.createObjectURL( file ); 
    tmpImg.onload = function() {
        width = tmpImg.naturalWidth,
        height = tmpImg.naturalHeight;
        $('#address_proof').data('imageWidth', width);
        $('#address_proof').data('imageHeight', height);
    }
});

  $('#m_address_bank_account').change(function() {
    $('#m_address_bank_account').removeData('imageWidth');
    $('#m_address_bank_account').removeData('imageHeight');
    var file = this.files[0];
    var tmpImg = new Image();
    tmpImg.src=window.URL.createObjectURL( file ); 
    tmpImg.onload = function() {
        width = tmpImg.naturalWidth,
        height = tmpImg.naturalHeight;
        $('#m_address_bank_account').data('imageWidth', width);
        $('#m_address_bank_account').data('imageHeight', height);
    }
});
</script>

<script>

  function payment_function(){
    $("#form").validate({
      rules: {
      cancelled_cheque_certificate: {
        required: true,
      },
      errorPlacement: function (error, element) {
            if (element.attr("name") == "cancelled_cheque_certificate")
                $("#cancelled_cheque_certificateError").html(error);

            }
  });

  }
</script>
<script>

$('input[type=file]').val();

 $(".uploadsignature").on("click", function () {
    var merch_set_signature_id = $(this).data('id');


    $('#merchant_setting_signature_modal_id').val(merch_set_signature_id);
    $("#avatar-modal").modal();

  });

 // $(".uploadauthsignature").on("click", function () {
 //    var merch_auth_signature_id = $(this).data('id');


 //    $('#merchant_authorised_signature_modal_id').val(merch_auth_signature_id);
 //    $("#avatar-modal").modal();

 //  });

 $(".uploadauthsignature").on("click", function () {
    var merch_auth_signature_id = $(this).data('id');


    $('#merchant_authorised_signature_modal_id').val(merch_auth_signature_id);
    $("#avatar-stamp-modal").modal();

  });




  $(".uploadstamp").on("click", function () {
    var merch_set_stamp_id = $(this).data('id');


    $('#merchant_setting_stamp_modal_id').val(merch_set_stamp_id);
    $("#avatar-stamp-modal").modal();

  });

  $(".uploadlogo").on("click", function () {


    var merch_set_logo_id = $(this).data('id');


    $('#merchant_setting_modal_id').val(merch_set_logo_id);
    $("#avatar-logo-modal").modal();

  });
</script>
<script>

//    jQuery.validator.addMethod("lettersonly", function(value, element) {
//   return this.optional(element) || /^[a-z]+$/i.test(value);
// }, "Only characters required"); 

// jQuery.validator.addMethod("pan_val", function(value, element){
// if (/[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(value)) {
// return true;   // PASS validation when REGEX matches
// } else {
//     return false;  // FAIL validation
// };

// }, "Please enter valid PAN number.");

// jQuery.validator.addMethod("cin_val", function(value, element){
// if (/^[A-Z][0-9]{21}$/.test(value)) {
// return true;   // PASS validation when REGEX matches
// } else {
//     return false;  // FAIL validation
// };
// }, "Please enter valid CIN number.");

// $.validator.addMethod('filesize', function (value, element, param) {
//     return this.optional(element) || (element.files[0].size <= param)
//   }, 'File size must be less than 500 Kb');

//   $.validator.addMethod("validDate", function(value, element) {
//       var currDate = new Date();
//       return Date.parse(currDate) >= Date.parse(value) ||value == "";
//   }, "Please enter valid DOB");

// jQuery.validator.addMethod("mobile_number", function (value, element) {
//             if (/^[6-9][0-9]{9}$/.test(value)) {
//                 return true;   // PASS validation when REGEX matches
//             } else {
//                 return false;  // FAIL validation
//             };
//         }, "Please enter valid Mobile Number");

// $.validator.addMethod("indian_cin", function (value, element) {
//     if (/^([L|U]{1})([0-9]{5})([A-Za-z]{2})([0-9]{4})([A-Za-z]{3})([0-9]{6})$/.test(value) || this.optional(element)) {
//       return true;   // PASS validation when REGEX matches
//     } else {
//       return false;  // FAIL validation
//     };
//   }, "Please enter valid CIN number.");

//   $.validator.addMethod("indian_gstin", function (value, element) {
//     if (/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(value) || this.optional(element)) {
//       return true;   // PASS validation when REGEX matches
//     } else {
//       return false;  // FAIL validation
//     };
//   }, "Please enter valid GSTIN number.");

//   $.validator.addMethod("bank_ifsc", function (value, element) {
//     if (/^[A-Z]{4}0[A-Z0-9]{6}$/.test(value) || this.optional(element)) {
//       return true;   // PASS validation when REGEX matches
//     } else {
//       return false;  // FAIL validation
//     };
//   }, "Please enter valid IFSC Code.");

  

  // $(document).ready(function () {
  //   $("#pin_code").keyup(function () {
  //     var pincode = $('#pin_code').val();
  //     if (pincode.length == 6) {
  //       $.ajax({
  //         url: "https://api.postalpincode.in/pincode/" + pincode,
  //         cache: false,
  //         dataType: "json",
  //         type: "GET",
  //         success: function (data) {
  //           state = data['0']['PostOffice'][0]['State']
  //           city = data['0']['PostOffice'][0]['Region']
  //           district = data['0']['PostOffice'][0]['District']
  //           $('#state').val(state)
  //           $('#city').val(city)
  //           $('#district').val(district)
  //         }
  //       })
  //     }
  //     else {
  //       $('#state').val("")
  //       $('#city').val("")
  //       $('#district').val("")
  //     }
  //   })
  // })

</script>


{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

<!-- Atlantis DEMO methods, don't include it in your project! -->
<script src="/static/assets/js/setting-demo2.js"></script>

{% endblock javascripts %}